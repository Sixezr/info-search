<!DOCTYPE html>
<html xmlns="https://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>

	<meta charset="utf-8" />
<meta name="Author" content="Apple Inc." />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="icon" href="/favicon.ico" />
<link rel="mask-icon" href="/apple-logo.svg" color="#333333">

<link rel="stylesheet" href="/assets/styles/global.dist.css?49232441032" type="text/css" />
<link rel="stylesheet" href="/assets/styles/dark-mode.css?32222422039" type="text/css" media="(prefers-color-scheme: dark)" data-color-scheme="dark" />
<link rel="stylesheet" href="/assets/styles/localization.css?23182355271" type="text/css" />

<script src="/assets/scripts/lib/jquery/jquery-3.6.0.min.js?23182355271"></script>
<script src="/assets/scripts/settings.js?23182355271"></script>
<script src="/assets/scripts/language-locales.js?23182355271"></script>
<script src="/assets/scripts/DeveloperBreadcrumbs.js?23182355271"></script>

<script async src="/assets/scripts/lib/jquery/jquery.retinate.js?23182355271"></script>
<script async src="/assets/scripts/global.js?23182355271"></script>
<script async src="/assets/scripts/global-logout.js?23182355271"></script>



	<link rel="stylesheet" href="https://www.apple.com/wss/fonts?family=SF+Pro&v=2" type="text/css" />
<link rel="stylesheet" href="https://www.apple.com/wss/fonts?family=SF+Pro+Icons&v=1" type="text/css" />
<link rel="stylesheet" href="https://www.apple.com/wss/fonts?family=SF+Mono&v=2" type="text/css" />
<link rel="stylesheet" href="https://www.apple.com/wss/fonts?family=Apple+Icons&amp;v=1" type="text/css" />


		<meta name="omni_page" content="Meet Swift Async Algorithms - WWDC22 - Videos" />
	<title>Meet Swift Async Algorithms - WWDC22 - Videos - Apple Developer</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<link type="text/css" rel="stylesheet" href="/videos/styles/videos.css?2">
	<link type="text/css" rel="stylesheet" href="/videos/styles/video-overlay.css?2">
	<meta name="description" content="Discover the latest open source Swift package from Apple: Swift Async Algorithms. We'll explore algorithms from this package that you can...">

	<meta property="og:url" content="https://developer.apple.com/videos/play/wwdc2022/110355/" />
	<meta property="og:title" content="Meet Swift Async Algorithms - WWDC22 - Videos - Apple Developer" />
	<meta property="og:description" content="Discover the latest open source Swift package from Apple: Swift Async Algorithms. We'll explore algorithms from this package that you can..." />
	<meta property="og:site_name" content="Apple Developer" />
	<meta property="og:type" content="website" />
	<meta property="og:video" content="https://devstreaming-cdn.apple.com/videos/wwdc/2022/110355/4/459D7B80-E4A7-428F-ADA8-EF2543CE3350/cmaf.m3u8" /> 
	<meta property="og:video_secure_url" content="https://devstreaming-cdn.apple.com/videos/wwdc/2022/110355/4/459D7B80-E4A7-428F-ADA8-EF2543CE3350/cmaf.m3u8" /> 
	<meta property="og:video:type" content="vnd.apple.mpegURL" /> 
	<meta property="og:video:width" content="1280" />
	<meta property="og:video:height" content="720" />
		<meta property="og:image" content="https://devimages-cdn.apple.com/wwdc-services/images/124/6709/6709_wide_250x141_2x.jpg" />
		<meta property="og:locale" content="en_US" />
	<meta itemprop="datePublished" content="2022-06-07">
	<meta itemprop="uploadDate" content="2022-06-07">	

</head>
<body class="view-play theme-dark">

	<script>
	const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;

	if (window.Settings.preferredColorScheme) {
		const colorTheme = (window.Settings.preferredColorScheme === 'auto') && !prefersDark ? 'light' : (window.Settings.preferredColorScheme === 'light') ? 'light' : 'dark'
		document.body.setAttribute('data-color-scheme', colorTheme);
	} else {
		document.body.setAttribute('data-color-scheme', prefersDark ? 'dark' : 'light');
	}
</script>
<style>
	/* footer */
	html body[data-color-scheme='dark'] #main section.section.section-resources.bg-alt {background-color:var(--fill-tertiary);color:var(--glyph-gray);}
	html body[data-color-scheme='dark'] .developer-router-links {background-color:var(--fill-tertiary);color:var(--glyph-gray);}
	html body[data-color-scheme='dark'] .footer {background-color:var(--fill-tertiary);color:var(--glyph-gray-tertiary);}
	/* body backgrounds */
	body[data-color-scheme='dark'].dmf {background-color: #000;}
	html body[data-color-scheme='dark'].dmf .bg-alt {background-color:var(--fill-tertiary);}
	html body[data-color-scheme='dark'].dmf .bg-blue {background-color:var(--fill-blue-secondary);}
	html body[data-color-scheme='dark'].dmf .bg-green-blue {background:linear-gradient(135deg, #65976d 0%, #588ea4 100%)}
	html body[data-color-scheme='dark'].dmf .bg-yellow {background: linear-gradient(to bottom, var(--fill-tertiary) 0%, var(--fill-tertiary-alt) 100%);}
	html body[data-color-scheme='dark'].dmf .bg-light {background-color:var(--fill-secondary-alt);}
	html body[data-color-scheme='dark'].dmf .bg-gradient, html body[data-color-scheme='dark'].dmf .bg-grad {background:linear-gradient(to bottom, var(--dark) 0%, var(--fill-gray-secondary-alt) 100%);}
	html body[data-color-scheme='dark'].dmf .bg-grad-down {background:linear-gradient(to bottom, var(--dark) 0%, var(--fill-gray-secondary-alt) 100%);}
	html body[data-color-scheme='dark'].dmf .bg-grad-up {background:linear-gradient(to bottom, var(--fill-gray-secondary-alt) 0%, var(--dark) 100%);}
	html body[data-color-scheme='dark'].dmf .bg-blue-gradient, html body[data-color-scheme='dark'].dmf .bg-gradient-blue {background:linear-gradient(to bottom, var(--fill-blue-gradient-light) 0%, var(--fill-blue-gradient-dark) 100%);}
	html body[data-color-scheme='dark'].dmf .bg-blue-gradient-alt {background: linear-gradient(90deg, #061830 0%, #102d48 100%);}
	/* globalNav */
	html body[data-color-scheme='dark'] #ac-globalnav {background: var(--fill-tertiary);}
	/* localNav */
	html body[data-color-scheme='dark'] .localnav.localnav-scrim .localnav-background,
	html body[data-color-scheme='dark'] .localnav-scrim.localnav.localnav-background {
		background-color: rgba(29, 29, 31, 0.9);
	}
	@supports ((-webkit-backdrop-filter: initial) or (backdrop-filter: initial)) {
		html body[data-color-scheme='dark'] .localnav.localnav-scrim .localnav-background,
		html body[data-color-scheme='dark'] .localnav-scrim.localnav.localnav-background {
			background-color: rgba(29, 29, 31, 0.72);
		}
	}
</style>
<link rel="stylesheet" href="/assets/styles/globalnav.css?23182355271" type="text/css" />

<link rel="stylesheet" href="/assets/styles/suggest-lang.css?23182355271" type="text/css" />
<div id="suggest-lang" class="ribbon hide" lang="en">
	<div class="ribbon-content-wrapper">
		<div class="ribbon-content row">
			<div class="column large-12 large-centered">
				<p><a href="#" id="suggest-link" class="ribbon-link more">View in English</a></p>
				<button id="suggest-closer" class="icon icon-after icon-reset" aria-label="Dismiss language suggestion" tabindex="0"></button>
			</div>
		</div>
	</div>
</div>
<script src="/assets/scripts/suggest-lang.js?23182355271"></script>
<aside id="ac-gn-segmentbar" class="ac-gn-segmentbar" lang="en-US" dir="ltr">
</aside>
<input type="checkbox" id="ac-gn-menustate" class="ac-gn-menustate" />
<nav id="ac-globalnav" class="no-js" role="navigation" aria-label="Global" data-hires="false" data-analytics-region="global nav" lang="en-US" dir="ltr"
    data-www-domain="www.apple.com"
    data-store-locale="us"
    data-store-root-path="/us"
    data-store-api="/[storefront]/shop/bag/status"
    data-search-locale="en_US"
    data-search-suggestions-api="/search-services/suggestions/"
    data-search-defaultlinks-api="/search-services/suggestions/defaultlinks/"
    data-search-suggestions-enabled="false">
	<div class="ac-gn-content">
		<ul class="ac-gn-header">
			<li class="ac-gn-item ac-gn-menuicon">
				<label class="ac-gn-menuicon-label" for="ac-gn-menustate" aria-hidden="true">
					<span class="ac-gn-menuicon-bread ac-gn-menuicon-bread-top">
						<span class="ac-gn-menuicon-bread-crust ac-gn-menuicon-bread-crust-top"></span>
					</span>
					<span class="ac-gn-menuicon-bread ac-gn-menuicon-bread-bottom">
						<span class="ac-gn-menuicon-bread-crust ac-gn-menuicon-bread-crust-bottom"></span>
					</span>
				</label>
				<a href="#ac-gn-menustate" role="button" class="ac-gn-menuanchor ac-gn-menuanchor-open" id="ac-gn-menuanchor-open">
					<span class="ac-gn-menuanchor-label">Global Nav Open Menu</span>
				</a>
				<a href="#" role="button" class="ac-gn-menuanchor ac-gn-menuanchor-close" id="ac-gn-menuanchor-close">
					<span class="ac-gn-menuanchor-label">Global Nav Close Menu</span>
				</a>
			</li>
			<li class="ac-gn-item ac-gn-apple">
				<a class="ac-gn-link ac-gn-link-apple-developer" href="/" data-analytics-title="appledeveloper home" id="ac-gn-firstfocus-small">
					<span class="ac-gn-link-text">Apple Developer</span>
				</a>
			</li>
		</ul>
		<div class="ac-gn-search-placeholder-container" role="search">
			<div class="ac-gn-search ac-gn-search-small">
				<a id="ac-gn-link-search-small" class="ac-gn-link" href="/search/" data-analytics-title="search" data-analytics-click="search" data-analytics-intrapage-link aria-label="Search">
					<div class="ac-gn-search-placeholder-bar">
						<div class="ac-gn-search-placeholder-input">
							<div class="ac-gn-search-placeholder-input-text" aria-hidden="true">
								<div class="ac-gn-link-search ac-gn-search-placeholder-input-icon"></div>
								<span class="ac-gn-search-placeholder">Search</span>
							</div>
						</div>
						<div class="ac-gn-searchview-close ac-gn-searchview-close-small ac-gn-search-placeholder-searchview-close">
							<span class="ac-gn-searchview-close-cancel" aria-hidden="true">Cancel</span>
						</div>
					</div>
				</a>
			</div>
		</div>
		<ul class="ac-gn-list">
			<li class="ac-gn-item ac-gn-apple">
				<a class="ac-gn-link ac-gn-link-apple-developer" href="/" data-analytics-title="appledeveloper home" id="ac-gn-firstfocus">
					<span class="ac-gn-link-text">Apple Developer</span>
					</a>
			</li>
			<li class="ac-gn-item ac-gn-item-menu ac-gn-news">
				<a class="ac-gn-link ac-gn-link-news" href="/news/" data-analytics-title="news">
					<span class="ac-gn-link-text">News</span>
					</a>
			</li>
			<li class="ac-gn-item ac-gn-item-menu ac-gn-discover">
				<a class="ac-gn-link ac-gn-link-discover" href="/discover/" data-analytics-title="discover">
					<span class="ac-gn-link-text">Discover</span>
					</a>
			</li>
			<li class="ac-gn-item ac-gn-item-menu ac-gn-design">
				<a class="ac-gn-link ac-gn-link-design" href="/design/" data-analytics-title="design">
					<span class="ac-gn-link-text">Design</span>
					</a>
			</li>
			<li class="ac-gn-item ac-gn-item-menu ac-gn-develop">
				<a class="ac-gn-link ac-gn-link-develop" href="/develop/" data-analytics-title="develop">
					<span class="ac-gn-link-text">Develop</span>
					</a>
			</li>
			<li class="ac-gn-item ac-gn-item-menu ac-gn-distribute">
				<a class="ac-gn-link ac-gn-link-distribute" href="/distribute/" data-analytics-title="distribute">
					<span class="ac-gn-link-text">Distribute</span>
					</a>
			</li>
			<li class="ac-gn-item ac-gn-item-menu ac-gn-dsupport">
				<a class="ac-gn-link ac-gn-link-dsupport" href="/support/" data-analytics-title="dsupport">
					<span class="ac-gn-link-text">Support</span>
					</a>
			</li>
			<li class="ac-gn-item ac-gn-item-menu ac-gn-account">
				<a class="ac-gn-link ac-gn-link-account" href="/account/" data-analytics-title="account">
					<span class="ac-gn-link-text">Account</span>
					</a>
			</li>
			<li class="ac-gn-item ac-gn-item-menu ac-gn-search" role="search">
				<a id="ac-gn-link-search" class="ac-gn-link ac-gn-link-search" href="/search/" data-analytics-title="search" data-analytics-click="search" data-analytics-intrapage-link aria-label="Search"></a>
			</li>
		</ul>
		<aside id="ac-gn-searchview" class="ac-gn-searchview" role="search" data-analytics-region="search">
			<div class="ac-gn-searchview-content">
				<div class="ac-gn-searchview-bar">
					<div class="ac-gn-searchview-bar-wrapper">
						<form id="ac-gn-searchform" class="ac-gn-searchform" action="/search/" method="get">
							<div class="ac-gn-searchform-wrapper">
								<input id="ac-gn-searchform-input" class="ac-gn-searchform-input" type="text" name="q" aria-label="Search" placeholder="Search" autocorrect="off" autocapitalize="off" autocomplete="off" spellcheck="false" role="combobox" aria-autocomplete="list" aria-expanded="true" aria-owns="quicklinks suggestions" />
								<button id="ac-gn-searchform-submit" class="ac-gn-searchform-submit" type="submit" disabled aria-label="Submit Search"></button>
								<button id="ac-gn-searchform-reset" class="ac-gn-searchform-reset" type="reset" disabled aria-label="Clear Search">
										<span class="ac-gn-searchform-reset-background"></span>
									</button>
							</div>
						</form>
						<button id="ac-gn-searchview-close-small" class="ac-gn-searchview-close ac-gn-searchview-close-small" aria-label="Cancel Search">
								<span class="ac-gn-searchview-close-cancel" aria-hidden="true">
									Cancel
								</span>
							</button>
					</div>
				</div>
				<aside id="ac-gn-searchresults" class="ac-gn-searchresults hidden" data-string-quicklinks="Quick Links" data-string-suggestions="Suggested Searches" data-string-noresults="">
                    <section class="ac-gn-searchresults-section ac-gn-searchresults-section-defaultlinks">
                        <div class="ac-gn-searchresults-section-wrapper">
							<div class="search-group-checkbox hidden"><input id="group-input" type="checkbox" name="group-filter" checked>Only search within “<span id="group-search-label"></span>”</div>
                            <h3 class="ac-gn-searchresults-header ac-gn-searchresults-animated">Quick Links</h3>
                            <ul class="ac-gn-searchresults-list" id="defaultlinks" role="listbox">
                            </ul>
                            <span role="status" class="ac-gn-searchresults-count" aria-live="polite">5 Quick Links</span>
                        </div>
                    </section>
                </aside>
			</div>
			<button id="ac-gn-searchview-close" class="ac-gn-searchview-close" aria-label="Cancel Search">
					<span class="ac-gn-searchview-close-wrapper">
						<span class="ac-gn-searchview-close-left"></span>
						<span class="ac-gn-searchview-close-right"></span>
					</span>
				</button>
		</aside>
			</div>
</nav>
<div class="ac-gn-blur"></div>
<div id="ac-gn-curtain" class="ac-gn-curtain"></div>
<div id="ac-gn-placeholder" class="ac-nav-placeholder"></div>
<script src="/assets/scripts/ac-globalnav.built.js?23182355271"></script>
<link rel="stylesheet" href="/assets/styles/search.css?23182355271">
<script src="/assets/scripts/search.js?20002417054"></script>


			<!-- metrics -->
<script>
    /* RSID: */
    var s_account="awdappledeveloper"
</script>	
<script src="/assets/metrics/scripts/analytics.js?10202020"></script>
<script>
    s.pageName= AC && AC.Tracking && AC.Tracking.pageName();
    s.channel="www.en.developer"
    s.channel="www.videos.developer";

    
    /************* DO NOT ALTER ANYTHING BELOW THIS LINE ! **************/
    var s_code=s.t();if(s_code)document.write(s_code)
</script>
<!-- /metrics -->
	
	<link rel="stylesheet" property="stylesheet" href="/assets/styles/localnav.css" type="text/css" />
<input type="checkbox" id="localnav-menustate" class="localnav-menustate"/>
<nav id="localnav" class="localnav localnav-scrim theme-dark" data-sticky role="navigation">
	<div class="localnav-wrapper">
		<div class="localnav-background"></div>
		<div class="localnav-content">
			<h2 class="localnav-title">
				<a href="/videos/">Videos</a>
			</h2>

			<div class="localnav-menu">
				<a href="#localnav-menustate" class="localnav-menucta-anchor localnav-menucta-anchor-open" id="localnav-menustate-open">
					<span class="localnav-menucta-anchor-label">Open Menu</span>
				</a>
				<a href="#" class="localnav-menucta-anchor localnav-menucta-anchor-close" id="localnav-menustate-close">
					<span class="localnav-menucta-anchor-label">Close Menu</span>
				</a>
				<div class="localnav-menu-tray">
					<ul class="localnav-menu-items">
						<li class="localnav-menu-item">
							<a href="/videos/" class="localnav-menu-link">Collections</a>
						</li>
						<li class="localnav-menu-item">
							<a href="/videos/topics/" class="localnav-menu-link">Topics</a>
						</li>
						<li class="localnav-menu-item">
							<a href="/videos/all-videos/" class="localnav-menu-link">All Videos</a>
						</li>
						<li class="localnav-menu-item">
							<a href="/videos/about/" class="localnav-menu-link">About</a>
						</li>
					</ul>
				</div>
				<div class="localnav-actions localnav-actions-center">
					<div class="localnav-action localnav-action-menucta" aria-hidden="true">
						<label for="localnav-menustate" class="localnav-menucta">
							<span class="localnav-menucta-chevron"></span>
						</label>
					</div>
				</div>
			</div>
		</div>
	</div>
</nav>
<label id="localnav-curtain" for="localnav-menustate"></label>
<script src="/assets/scripts/ac-localnav.built.js"></script>
<script type="text/javascript" src="/assets/scripts/localnav.js"></script>
	<main id="main" class="main theme-dark" role="main">

		<section class="bg-dark">

			<section class="grid">

				<section class="row">
					<section class="column large-10 small-12  padding-top-small large-centered no-padding-bottom">
						<!-- back link -->
						<p class="back-link smaller">
														<a class="icon icon-before icon-chevronleft" href="/videos/wwdc2022/">Back to WWDC22</a>
													</p>
					</section>
				</section>

				<!-- video player -->
				<section class="video-wrapper row">
					<section class="column large-10 small-12  padding-top-small padding-bottom-small large-centered">
												<div class="developer-video-player">
							<div id="video-status-overlay" class="developer-video-overlay" style="display: none">
								<div class="video-status-content">
									<div id="video-status-text"></div>
									<img class="video-status-icon" id="icon-backward" src="/assets/elements/icons/symbols/gobackward5.svg" style="display: none" />
									<img class="video-status-icon" id="icon-forward" src="/assets/elements/icons/symbols/goforward5.svg" style="display: none" />
								</div>
							</div>
							<video id="video" class="video large-centered" controls="" src="https://devstreaming-cdn.apple.com/videos/wwdc/2022/110355/4/459D7B80-E4A7-428F-ADA8-EF2543CE3350/cmaf.m3u8" data-id="wwdc2022-110355"></video>
						</div>
						<div class="no-video-banner hidden">
							<div class="no-video-copy">
								<p>Streaming is available in most browsers,<br> and in the WWDC app.</p>
							</div>
							</span>
						</div>

											</section>
				</section>

			</section>

		</section>

		<section class="grid">

			<!-- tab menu -->
			<section class="tab-menu row divider-bottom">

				<section class="column large-10 small-12  padding-top-small padding-bottom-small large-centered">

					<ul class="tabs">
						<li class="tab" data-supplement-id="details"><a href="#"><span class="smaller">Overview</span></a></li>
						
												<li class="tab" data-supplement-id="transcript"><a href="#"><span class="smaller">Transcript</span></a></li>
						<li class="tab right active" data-supplement-id="search">
							<!-- mobile search -->
							<a href="#"><span><!--icon--></span></a>
							<!-- desktop search -->
							<section class="searchbar-wrapper desktop" style="opacity:0;">
								<button class="search-icon"></button>
								<input id="searchDesktop" class="active" type="text" autocomplete="off" placeholder="Search this video…">
							</section>
						</li>
																		<li class="tab" data-supplement-id="sample-code"><a href="#"><span class="smaller">Code</span></a></li>
						
												<section class="searchbar-wrapper mobile">
							<input class="active" type="text" autocomplete="off" placeholder="Search this video…">
						</section>
						
					</ul>
				</section>

			</section>

			<!-- supplements -->
			<section class="row">

				<section class="column large-10 small-12  large-centered no-padding-top no-padding-bottom">

					<ul class="supplements hidden">

						<!-- details -->
						<li class="supplement details " data-supplement-id="details">
							
														<h1>Meet Swift Async Algorithms</h1>
							<p>Discover the latest open source Swift package from Apple: Swift Async Algorithms. We'll explore algorithms from this package that you can use with AsyncSequence, including zip, merge, and throttle. Follow along with us as we use these algorithms to build a great messaging app. We'll also share best practices for combining multiple AsyncSequences and using the Swift Clock type to work with values over time.

To get the most out of this session, we recommend watching "Meet AsyncSequence."</p>
							
							
														<h2>Resources</h2>

							<ul class="links small">
																																					<li class="document"><a href="https://developer.apple.com/documentation/Swift/AsyncSequence" target="_blank">AsyncSequence</a></li>
																																							<li class="developerForum"><a href="https://developer.apple.com/forums/create/question?&tag1=235&tag2=547030" target="_blank">Have a question? Ask with tag wwdc2022-110355</a></li>
																																							<li class="developerForum"><a href="https://developer.apple.com/forums/tags/wwdc2022-110355" target="_blank">Search the forums for tag wwdc2022-110355</a></li>
																																							<li class="guide"><a href="https://github.com/apple/swift-async-algorithms" target="_blank">Swift Async Algorithms package</a></li>
																																							<li class="guide"><a href="https://docs.swift.org/swift-book/LanguageGuide/Concurrency.html" target="_blank">The Swift Programming Language: Concurrency</a></li>
																											
																	<li class="download">
										<ul class="options">
																						<li><a href="https://devstreaming-cdn.apple.com/videos/wwdc/2022/110355/4/459D7B80-E4A7-428F-ADA8-EF2543CE3350/downloads/wwdc2022-110355_hd.mp4?dl=1">HD Video</a></li>
																																	<li><a href="https://devstreaming-cdn.apple.com/videos/wwdc/2022/110355/4/459D7B80-E4A7-428F-ADA8-EF2543CE3350/downloads/wwdc2022-110355_sd.mp4?dl=1">SD Video</a></li>
																					</ul>
									</li>
																
															</ul>
							
														<div class="divider-top margin-top-small padding-bottom-small"></div>
							<h2>Related Videos</h2>
														<h4>WWDC22</h4>
								<ul class="links small">
																			<li class="video">
											<a href="/videos/play/wwdc2022/110354">What's new in Swift</a>
										</li>
																	</ul>
														<h4>WWDC21</h4>
								<ul class="links small">
																			<li class="video">
											<a href="/videos/play/wwdc2021/10058">Meet AsyncSequence</a>
										</li>
																			<li class="video">
											<a href="/videos/play/wwdc2021/10256">Meet the Swift Algorithms and Collections packages</a>
										</li>
																	</ul>
														
							
						</li>

						<!-- transcript -->
						<li class="supplement transcript" data-supplement-id="transcript" data-shortcut-base-url="/videos/play/wwdc2022/110355/">
							<section>
								<div class="margin-bottom-small download-transcript"><span id="get-transcript" class="icon icon-before icon-downloadcircle">Download</span></div>
								<p><span class="sentence"><span data-start="0.0">♪ instrumental hip hop music ♪ </span></span><span class="sentence"><span data-start="9.0">Hi, my name's Philippe. </span></span><span class="sentence"><span data-start="11.0">Swift has a growing catalog of open source packages. </span></span><span class="sentence"><span data-start="15.0">I am pleased to introduce you to one of the newest additions: </span></span><span class="sentence"><span data-start="18.0">Swift Async Algorithms. </span></span><span class="sentence"><span data-start="20.0">This package is alongside the other packages, </span></span><span class="sentence"><span data-start="23.0">like Swift Collections and Swift Algorithms. </span></span><span class="sentence"><span data-start="26.0">The Swift Async Algorithms package is a set of algorithms </span></span><span class="sentence"><span data-start="30.0">specifically focused on processing values over time using AsyncSequence. </span></span><span class="sentence"><span data-start="35.0">But before we get into it, </span></span><span class="sentence"><span data-start="37.0">let's take a brief moment to recap AsyncSequence. </span></span><span class="sentence"><span data-start="40.0">AsyncSequence is a protocol that lets you describe values </span></span><span class="sentence"><span data-start="43.0">produced asynchronously. </span></span><span class="sentence"><span data-start="45.0">Basically, it's just like Sequence, but has two key differences. </span></span><span class="sentence"><span data-start="50.0">The next function from its iterator is asynchronous, </span></span><span class="sentence"><span data-start="54.0">being that it can deliver values using Swift concurrency. </span></span><span class="sentence"><span data-start="58.0">It also lets you handle any potential failures using Swift's throw effect. </span></span><span class="sentence"><span data-start="63.0">And just like sequence, you can iterate it, </span></span><span class="sentence"><span data-start="66.0">using the for-await-in syntax. </span></span><span class="sentence"><span data-start="69.0">In short, if you know how to use Sequence, </span></span><span class="sentence"><span data-start="71.0">you already know how to use AsyncSequence. </span></span><span class="sentence"><span data-start="75.0">Now, when AsyncSequence was introduced, we added in almost all the tools </span></span><span class="sentence"><span data-start="79.0">you would expect to find with Sequence right there with the async versions. </span></span><span class="sentence"><span data-start="84.0">You have algorithms like map, filter, reduce, and more. </span></span><span class="sentence"><span data-start="90.0">The Swift Async Algorithms package takes this a step further </span></span><span class="sentence"><span data-start="93.0">by incorporating more advanced algorithms, as well as interoperating </span></span><span class="sentence"><span data-start="97.0">with clocks to give you some really powerful stuff. </span></span><span class="sentence"><span data-start="101.0">This is an open source package of AsyncSequence algorithms </span></span><span class="sentence"><span data-start="105.0">that augment Swift concurrency. </span></span><span class="sentence"><span data-start="108.0">Last year we introduced the Swift Algorithms package. </span></span><span class="sentence"><span data-start="111.0">To demonstrate the uses of those algorithms, </span></span><span class="sentence"><span data-start="113.0">we made a messaging app. </span></span><span class="sentence"><span data-start="115.0">This was a great example of some of the rich and powerful things </span></span><span class="sentence"><span data-start="118.0">you can do with that package. </span></span><span class="sentence"><span data-start="120.0">We decided there were a number of really good opportunities </span></span><span class="sentence"><span data-start="123.0">to take advantage of migrating the app to use Swift concurrency. </span></span><span class="sentence"><span data-start="127.0">To highlight just a few of the asynchronous algorithms, </span></span><span class="sentence"><span data-start="131.0">I'm gonna take you through some of the things that we used </span></span><span class="sentence"><span data-start="133.0">and how they work. </span></span><span class="sentence"><span data-start="136.0">First off, we have a family of algorithms for working </span></span><span class="sentence"><span data-start="139.0">with multiple input AsyncSequences. </span></span><span class="sentence"><span data-start="141.0">These are algorithms focused on combining AsyncSequences together in different ways. </span></span><span class="sentence"><span data-start="147.0">But they all share one characteristic: </span></span><span class="sentence"><span data-start="150.0">They take multiple input AsyncSequences and produce one output AsyncSequence.</p><p></span></span><span class="sentence"><span data-start="156.0">One you might already be familiar with is Zip. </span></span><span class="sentence"><span data-start="160.0">The Zip algorithm takes multiple inputs and iterates them </span></span><span class="sentence"><span data-start="164.0">such that it produces a tuple of the results from each of the bases. </span></span><span class="sentence"><span data-start="168.0">Each of the inputs to Zip are the bases that the Zip is constructed from. </span></span><span class="sentence"><span data-start="172.0">The asynchronous Zip algorithm works just like the Zip algorithm </span></span><span class="sentence"><span data-start="176.0">in the standard library, </span></span><span class="sentence"><span data-start="177.0">but it iterates each of the bases concurrently </span></span><span class="sentence"><span data-start="180.0">and rethrows errors if a failure occurs on iterating any of them. </span></span><span class="sentence"><span data-start="184.0">Now, accomplishing that concurrent iteration </span></span><span class="sentence"><span data-start="187.0">with rethrowing errors can be rather involved. </span></span><span class="sentence"><span data-start="190.0">But the Swift Async Algorithms package took care of all of that </span></span><span class="sentence"><span data-start="193.0">for us in our messaging app. </span></span><span class="sentence"><span data-start="195.0">We previously had a lot of code </span></span><span class="sentence"><span data-start="197.0">coordinating asynchronously generating previews </span></span><span class="sentence"><span data-start="199.0">of video recordings and transcoding video </span></span><span class="sentence"><span data-start="202.0">into multiple sizes for efficient storage and transmission. </span></span><span class="sentence"><span data-start="206.0">By using Zip we can ensure that the transcoded video gets a preview </span></span><span class="sentence"><span data-start="211.0">when we send it off to the server. </span></span><span class="sentence"><span data-start="213.0">Since Zip is concurrent, neither the transcoding </span></span><span class="sentence"><span data-start="216.0">or the preview will delay each other. </span></span><span class="sentence"><span data-start="219.0">But this goes a bit further. </span></span><span class="sentence"><span data-start="221.0">Zip itself has no preference on which side </span></span><span class="sentence"><span data-start="223.0">produced a value first or not, so a video could be produced first </span></span><span class="sentence"><span data-start="228.0">or a preview, and no matter which side it is, </span></span><span class="sentence"><span data-start="231.0">it will await for the other to send a complete tuple. </span></span><span class="sentence"><span data-start="235.0">We can await the pairs such that they can be uploaded together </span></span><span class="sentence"><span data-start="238.0">because Zip awaits each side concurrently to construct a tuple of the values. </span></span><span class="sentence"><span data-start="244.0">We came to the conclusion that modeling our incoming messages </span></span><span class="sentence"><span data-start="247.0">as an AsyncSequence made a lot of sense. </span></span><span class="sentence"><span data-start="250.0">So we decided to use AsyncStream to handle those messages </span></span><span class="sentence"><span data-start="254.0">since it preserves order and turns our callbacks </span></span><span class="sentence"><span data-start="257.0">into an AsyncSequence of messages. </span></span><span class="sentence"><span data-start="260.0">One of the requested features we needed to tackle is </span></span><span class="sentence"><span data-start="263.0">that we wanted to support multiple accounts. </span></span><span class="sentence"><span data-start="265.0">So each account creates an AsyncStream of incoming messages, </span></span><span class="sentence"><span data-start="270.0">but when implementing this, </span></span><span class="sentence"><span data-start="271.0">we need to handle them all together as one singular AsyncSequence. </span></span><span class="sentence"><span data-start="276.0">This means we needed an algorithm for merging those AsyncSequences together. </span></span><span class="sentence"><span data-start="281.0">Thankfully the Swift Async Algorithms package has an algorithm for exactly that, </span></span><span class="sentence"><span data-start="287.0">aptly named "Merge." </span></span><span class="sentence"><span data-start="289.0">It works similarly to Zip in the regards that it concurrently iterates </span></span><span class="sentence"><span data-start="294.0">multiple AsyncSequences. But instead of creating paired tuples, </span></span><span class="sentence"><span data-start="298.0">it requires the bases to share the same element type </span></span><span class="sentence"><span data-start="301.0">and merges the base AsyncSequences </span></span><span class="sentence"><span data-start="304.0">into one singular AsyncSequence of those elements. </span></span><span class="sentence"><span data-start="308.0">Merge works by taking the first element produced by any </span></span><span class="sentence"><span data-start="312.0">of the sides when iterated. </span></span><span class="sentence"><span data-start="313.0">It keeps iterating until there are no more values that could be produced, </span></span><span class="sentence"><span data-start="318.0">specifically when all base AsyncSequences return nil from their iterator. </span></span><span class="sentence"><span data-start="323.0">If any of the bases produces an error, the other iterations are cancelled. </span></span><span class="sentence"><span data-start="327.0">This lets us take the AsyncSequences of messages and merge them. </span></span><span class="sentence"><span data-start="333.0">These combining algorithms work concurrently on when values are produced, </span></span><span class="sentence"><span data-start="338.0">but sometimes it is useful to actually interact with time itself. </span></span><span class="sentence"><span data-start="343.0">The Swift Async Algorithms package brings in a family of algorithms </span></span><span class="sentence"><span data-start="347.0">to work with time by leveraging the new Clock API in Swift. </span></span><span class="sentence"><span data-start="351.0">Time itself can be a really complex subject, </span></span><span class="sentence"><span data-start="355.0">and new in Swift (5.7) are a set of APIs </span></span><span class="sentence"><span data-start="358.0">to make that safe and consistent: </span></span><span class="sentence"><span data-start="361.0">Clock, Instant, and Duration.</p><p></span></span><span class="sentence"><span data-start="366.0">The Clock protocol defines two primitives, </span></span><span class="sentence"><span data-start="369.0">a way to wake up after a given instant </span></span><span class="sentence"><span data-start="371.0">and a way to produce a concept of now. </span></span><span class="sentence"><span data-start="373.0">There are a few built in clocks. </span></span><span class="sentence"><span data-start="375.0">Two of the more common ones are </span></span><span class="sentence"><span data-start="377.0">the ContinuousClock and the SuspendingClock. </span></span><span class="sentence"><span data-start="380.0">You can use the ContinuousClock to measure time just like a stopwatch, </span></span><span class="sentence"><span data-start="384.0">where time progresses no matter the state of the thing being measured. </span></span><span class="sentence"><span data-start="388.0">The SuspendingClock, on the other hand, does what its name implies; </span></span><span class="sentence"><span data-start="392.0">it suspends when the machine is put to sleep. </span></span><span class="sentence"><span data-start="395.0">We used the new clock API in our app to migrate from existing callback events </span></span><span class="sentence"><span data-start="400.0">to clock sleep function to handle dismissing alerts after a deadline. </span></span><span class="sentence"><span data-start="405.0">We were able to create the deadline by adding a duration value </span></span><span class="sentence"><span data-start="409.0">that indicated specifically the number of seconds we wanted to delay. </span></span><span class="sentence"><span data-start="415.0">Clock also has some handy methods to measure the elapsed duration </span></span><span class="sentence"><span data-start="418.0">of execution of work. </span></span><span class="sentence"><span data-start="420.0">Here we have those two common clocks I mentioned earlier, </span></span><span class="sentence"><span data-start="423.0">the SuspendingClock and ContinuousClock.</p><p></span></span><span class="sentence"><span data-start="427.0">Below are displays showing </span></span><span class="sentence"><span data-start="429.0">the potential elapsed duration </span></span><span class="sentence"><span data-start="431.0">of work being measured. </span></span><span class="sentence"><span data-start="432.0">The key difference between these two clocks </span></span><span class="sentence"><span data-start="436.0">comes from its behavior when the machine is asleep.</p><p></span></span><span class="sentence"><span data-start="440.0">For long running work like these, the work can be paused, </span></span><span class="sentence"><span data-start="444.0">just as we did here, </span></span><span class="sentence"><span data-start="445.0">but when we resume the execution, </span></span><span class="sentence"><span data-start="450.0">the ContinuousClock has progressed </span></span><span class="sentence"><span data-start="452.0">while the machine was asleep, </span></span><span class="sentence"><span data-start="453.0">but the SuspendingClock did not. </span></span><span class="sentence"><span data-start="456.0">Commonly, this difference can be the key detail </span></span><span class="sentence"><span data-start="459.0">to make sure things like animations work as expected </span></span><span class="sentence"><span data-start="462.0">by suspending the timing of the execution. </span></span><span class="sentence"><span data-start="466.0">If you need to interact with time in relation to the machine, </span></span><span class="sentence"><span data-start="469.0">like for animations, use the SuspendingClock.</p><p></span></span><span class="sentence"><span data-start="473.0">Measuring tasks in relation to the human in front of the device </span></span><span class="sentence"><span data-start="477.0">is better suited for the ContinuousClock. </span></span><span class="sentence"><span data-start="479.0">So if you need to delay by an absolute duration, </span></span><span class="sentence"><span data-start="483.0">something relative to humans, use the ContinuousClock. </span></span><span class="sentence"><span data-start="487.0">The Swift Async Algorithms package uses these new Clock, Instant, </span></span><span class="sentence"><span data-start="492.0">and Duration types to build generic algorithms for dealing </span></span><span class="sentence"><span data-start="496.0">with many of the concepts of how events are processed with regards to time. </span></span><span class="sentence"><span data-start="501.0">In our messaging app, we found these really helpful </span></span><span class="sentence"><span data-start="504.0">for providing precise control over events. </span></span><span class="sentence"><span data-start="507.0">It let us rate limit interactions and efficiently buffer messages.</p><p></span></span><span class="sentence"><span data-start="513.0">Perhaps the most prominent area that we utilized time </span></span><span class="sentence"><span data-start="516.0">was searching messages. </span></span><span class="sentence"><span data-start="518.0">We created a controller that manages a channel of results. </span></span><span class="sentence"><span data-start="522.0">The channel marshals search results from the search task back to our UI. </span></span><span class="sentence"><span data-start="527.0">The search task itself needed to have some specific characteristics </span></span><span class="sentence"><span data-start="531.0">with regards to time. </span></span><span class="sentence"><span data-start="533.0">We wanted to make sure to rate limit searching sent messages on the server.</p><p></span></span><span class="sentence"><span data-start="539.0">The algorithm Debounce awaits a quiescence period </span></span><span class="sentence"><span data-start="543.0">before it emits the next values when iterated. </span></span><span class="sentence"><span data-start="546.0">It means that events can come in fast, but we want to make sure to wait </span></span><span class="sentence"><span data-start="550.0">for a quiet period before dealing with values. </span></span><span class="sentence"><span data-start="554.0">When user input from a search field is changed rapidly, </span></span><span class="sentence"><span data-start="558.0">we don't want the search controller </span></span><span class="sentence"><span data-start="559.0">to fire off a search request for each change. </span></span><span class="sentence"><span data-start="562.0">Instead, we want to make sure to wait for a quiet period </span></span><span class="sentence"><span data-start="566.0">when we're certain typing was likely to be done. </span></span><span class="sentence"><span data-start="569.0">By default, the Debounce algorithm will use the ContinuousClock. </span></span><span class="sentence"><span data-start="573.0">In this case, we can debounce the input such that it awaits </span></span><span class="sentence"><span data-start="577.0">a specified duration while nothing has occurred. </span></span><span class="sentence"><span data-start="580.0">Clocks and durations are not just used for debouncing, </span></span><span class="sentence"><span data-start="583.0">but they're used for other algorithms too. </span></span><span class="sentence"><span data-start="586.0">One area that we found that was really useful </span></span><span class="sentence"><span data-start="589.0">was sending batches of messages to the server. </span></span><span class="sentence"><span data-start="592.0">In the Swift algorithms package, </span></span><span class="sentence"><span data-start="594.0">there's a set of algorithms to chunk values. </span></span><span class="sentence"><span data-start="598.0">The Swift Async Algorithms package offers those, </span></span><span class="sentence"><span data-start="601.0">but also adds a set of versions </span></span><span class="sentence"><span data-start="603.0">that interoperate with clocks and durations. </span></span><span class="sentence"><span data-start="606.0">The family of chunking algorithms allow for control over chunks by count, </span></span><span class="sentence"><span data-start="610.0">by time, or by content. </span></span><span class="sentence"><span data-start="612.0">If an error occurs in any of these, that error is rethrown, </span></span><span class="sentence"><span data-start="616.0">so our code is safe when it comes to failures.</p><p></span></span><span class="sentence"><span data-start="620.0">We used the "chunked(by:)" API to ensure that chunks of messages </span></span><span class="sentence"><span data-start="624.0">are serialized and sent off by a certain elapsed duration. </span></span><span class="sentence"><span data-start="628.0">That way, our server gets efficient packets sent from the clients. </span></span><span class="sentence"><span data-start="633.0">We were able to use this API to build batches of messages </span></span><span class="sentence"><span data-start="637.0">every 500 milliseconds. </span></span><span class="sentence"><span data-start="639.0">That way, if someone's really excited and typing really fast, </span></span><span class="sentence"><span data-start="643.0">the requests sent to the server are grouped up. </span></span><span class="sentence"><span data-start="647.0">When working with collections and sequence, </span></span><span class="sentence"><span data-start="649.0">it's often useful and performant to lazily process elements. </span></span><span class="sentence"><span data-start="654.0">AsyncSequence works much like how the lazy algorithms work </span></span><span class="sentence"><span data-start="658.0">in the Swift standard library. </span></span><span class="sentence"><span data-start="660.0">But just like those lazy algorithms, there are often times where you need </span></span><span class="sentence"><span data-start="664.0">to move back into the world of collections. </span></span><span class="sentence"><span data-start="668.0">The Swift Async Algorithms package offers a set of initializers </span></span><span class="sentence"><span data-start="672.0">for constructing collections using AsyncSequence. </span></span><span class="sentence"><span data-start="675.0">These let you build up dictionaries, sets, or arrays </span></span><span class="sentence"><span data-start="679.0">with input AsyncSequences that are known to be finite. </span></span><span class="sentence"><span data-start="683.0">The collection initializers let us build in conversions </span></span><span class="sentence"><span data-start="686.0">right into our initialization of messages and keep our data types as Array. </span></span><span class="sentence"><span data-start="691.0">This was really useful since we had numerous features </span></span><span class="sentence"><span data-start="694.0">that really could use some updating to use Swift concurrency. </span></span><span class="sentence"><span data-start="698.0">And by keeping our existing data structures, </span></span><span class="sentence"><span data-start="701.0">we can migrate parts of our app incrementally </span></span><span class="sentence"><span data-start="704.0">and where it makes sense. </span></span><span class="sentence"><span data-start="707.0">So far, we've just gone over just a handful </span></span><span class="sentence"><span data-start="709.0">of the highlights of Swift Async Algorithms package. </span></span><span class="sentence"><span data-start="712.0">There are a whole lot more </span></span><span class="sentence"><span data-start="714.0">than just what we've covered today. </span></span><span class="sentence"><span data-start="715.0">We have algorithms ranging from combining multiple AsyncSequences, </span></span><span class="sentence"><span data-start="721.0">rate limiting by time, </span></span><span class="sentence"><span data-start="725.0">breaking things into chunks, </span></span><span class="sentence"><span data-start="728.0">but those were just the highlights that we ended up </span></span><span class="sentence"><span data-start="730.0">using extensively in our app. </span></span><span class="sentence"><span data-start="733.0">This package has a lot more than just those. </span></span><span class="sentence"><span data-start="736.0">It ranges from buffering, </span></span><span class="sentence"><span data-start="739.0">reducing, joining, </span></span><span class="sentence"><span data-start="743.0">to injecting values intermittently, and more. </span></span><span class="sentence"><span data-start="747.0">The Swift Async Algorithms package takes the set of algorithms </span></span><span class="sentence"><span data-start="751.0">for dealing with things over time and expands it to a wide range </span></span><span class="sentence"><span data-start="755.0">of advanced functionality that can help you in your apps. </span></span><span class="sentence"><span data-start="759.0">Try it out. </span></span><span class="sentence"><span data-start="760.0">We're really excited to discover what you build with these, </span></span><span class="sentence"><span data-start="764.0">and that excitement is shared. </span></span><span class="sentence"><span data-start="766.0">This package is being developed in the open with you. </span></span><span class="sentence"><span data-start="770.0">Thanks for watching, and enjoy the rest of the conference. </span></span><span class="sentence"><span data-start="773.0">♪ instrumental hip hop music ♪</span></span></p>
							</section>
						</li>

						<!-- sample code -->
						<li class="supplement sample-code" data-supplement-id="sample-code">
							<section>
								<ul class="no-bullet padding-top-small margin-bottom">
																		<li class="sample-code-main-container">
										<button class="btn-copy-code">Copy Code</button>
										<p>2:01 - <a class="jump-to-time-sample" href="/videos/play/wwdc2022/110355/?time=121" data-start-time="121">The messaging app</a></p>
									<pre class="code-source"><code><span class="syntax-keyword">struct</span> <span class="syntax-title class_">Account</span> {
  <span class="syntax-keyword">var</span> messages: <span class="syntax-type">AsyncStream</span>&lt;<span class="syntax-type">Message</span>&gt;
}  

<span class="syntax-keyword">actor</span> <span class="syntax-title class_">AccountManager</span> {
  <span class="syntax-keyword">var</span> primaryAccount: <span class="syntax-type">Account</span>
  <span class="syntax-keyword">var</span> secondaryAccount: <span class="syntax-type">Account</span>? 
}

<span class="syntax-keyword">protocol</span> <span class="syntax-title class_">MessagePreview</span> {
  <span class="syntax-keyword">func</span> <span class="syntax-title function_">displayPreviews</span>(<span class="syntax-keyword">_</span> <span class="syntax-params">manager</span>: <span class="syntax-type">AccountManager</span>) <span class="syntax-keyword">async</span> }</code></pre>
									</li>
																		<li class="sample-code-main-container">
										<button class="btn-copy-code">Copy Code</button>
										<p>3:16 - <a class="jump-to-time-sample" href="/videos/play/wwdc2022/110355/?time=196" data-start-time="196">Zip</a></p>
									<pre class="code-source"><code><span class="syntax-comment">// upload attachments of videos and previews such that every video has a preview that are created concurrently so that neither blocks each other. </span>

<span class="syntax-keyword">for</span> <span class="syntax-keyword">try</span> <span class="syntax-keyword">await</span> (vid, preview) <span class="syntax-keyword">in</span> <span class="syntax-built_in">zip</span>(videos, previews) {
  <span class="syntax-keyword">try</span> <span class="syntax-keyword">await</span> upload(vid, preview)
}</code></pre>
									</li>
																		<li class="sample-code-main-container">
										<button class="btn-copy-code">Copy Code</button>
										<p>5:09 - <a class="jump-to-time-sample" href="/videos/play/wwdc2022/110355/?time=309" data-start-time="309">Merge</a></p>
									<pre class="code-source"><code><span class="syntax-comment">// Display previews of messages from either the primary or secondary account</span>

<span class="syntax-keyword">for</span> <span class="syntax-keyword">try</span> <span class="syntax-keyword">await</span> message <span class="syntax-keyword">in</span> merge(primaryAccount.messages, secondaryAccount.messages) {
  displayPreview(message)
}</code></pre>
									</li>
																		<li class="sample-code-main-container">
										<button class="btn-copy-code">Copy Code</button>
										<p>6:37 - <a class="jump-to-time-sample" href="/videos/play/wwdc2022/110355/?time=397" data-start-time="397">Suspending Clock</a></p>
									<pre class="code-source"><code><span class="syntax-comment">// Sleep until a given deadline</span>

<span class="syntax-keyword">let</span> clock <span class="syntax-operator">=</span> <span class="syntax-type">SuspendingClock</span>()
<span class="syntax-keyword">var</span> deadline <span class="syntax-operator">=</span> clock.now <span class="syntax-operator">+</span> .seconds(<span class="syntax-number">3</span>)
<span class="syntax-keyword">try</span> <span class="syntax-keyword">await</span> clock.sleep(until: deadline)</code></pre>
									</li>
																		<li class="sample-code-main-container">
										<button class="btn-copy-code">Copy Code</button>
										<p>6:56 - <a class="jump-to-time-sample" href="/videos/play/wwdc2022/110355/?time=416" data-start-time="416">Suspending Clock vs. Continuous Clock</a></p>
									<pre class="code-source"><code><span class="syntax-keyword">let</span> clock <span class="syntax-operator">=</span> <span class="syntax-type">SuspendingClock</span>()
<span class="syntax-keyword">let</span> elapsed <span class="syntax-operator">=</span> <span class="syntax-keyword">await</span> clock.measure {
  <span class="syntax-keyword">await</span> someLongRunningWork()
}
<span class="syntax-comment">//Elapsed time reads 00:05.40</span>

<span class="syntax-keyword">let</span> clock <span class="syntax-operator">=</span> <span class="syntax-type">ContinuousClock</span>()
<span class="syntax-keyword">let</span> elapsed <span class="syntax-operator">=</span> <span class="syntax-keyword">await</span> clock.measure {
  <span class="syntax-keyword">await</span> someLongRunningWork()
}
<span class="syntax-comment">//Elapsed time reads 00:19.54</span></code></pre>
									</li>
																		<li class="sample-code-main-container">
										<button class="btn-copy-code">Copy Code</button>
										<p>8:34 - <a class="jump-to-time-sample" href="/videos/play/wwdc2022/110355/?time=514" data-start-time="514">Control searching messages</a></p>
									<pre class="code-source"><code><span class="syntax-comment">// Control searching messages</span>

<span class="syntax-keyword">class</span> <span class="syntax-title class_">SearchController</span> {
  <span class="syntax-keyword">let</span> searchResults <span class="syntax-operator">=</span> <span class="syntax-type">AsyncChannel</span>&lt;<span class="syntax-type">SearchResult</span>&gt;()

  <span class="syntax-keyword">func</span> <span class="syntax-title function_">search</span>&lt;<span class="syntax-type">SearchValues</span>: <span class="syntax-type">AsyncSequence</span>&gt;(<span class="syntax-keyword">_</span> <span class="syntax-params">searchValues</span>: <span class="syntax-type">SearchValues</span>) 
    <span class="syntax-keyword">where</span> <span class="syntax-type">SearchValues</span>.<span class="syntax-type">Element</span> <span class="syntax-operator">==</span> <span class="syntax-type">String</span> 
}</code></pre>
									</li>
																		<li class="sample-code-main-container">
										<button class="btn-copy-code">Copy Code</button>
										<p>9:16 - <a class="jump-to-time-sample" href="/videos/play/wwdc2022/110355/?time=556" data-start-time="556">Debounce</a></p>
									<pre class="code-source"><code><span class="syntax-keyword">let</span> queries <span class="syntax-operator">=</span> searchValues
   .debounce(for: .milliseconds(<span class="syntax-number">300</span>))

<span class="syntax-keyword">for</span> <span class="syntax-keyword">await</span> query <span class="syntax-keyword">in</span> queries {
  <span class="syntax-keyword">let</span> results <span class="syntax-operator">=</span> <span class="syntax-keyword">try</span> <span class="syntax-keyword">await</span> performSearch(query)
  <span class="syntax-keyword">await</span> channel.send(results) }</code></pre>
									</li>
																		<li class="sample-code-main-container">
										<button class="btn-copy-code">Copy Code</button>
										<p>10:21 - <a class="jump-to-time-sample" href="/videos/play/wwdc2022/110355/?time=621" data-start-time="621">Chunked by</a></p>
									<pre class="code-source"><code><span class="syntax-keyword">let</span> batches <span class="syntax-operator">=</span> outboundMessages.chunked(
  by: .repeating(every: .milliseconds(<span class="syntax-number">500</span>))
)

<span class="syntax-keyword">let</span> encoder <span class="syntax-operator">=</span> <span class="syntax-type">JSONEncoder</span>() 
<span class="syntax-keyword">for</span> <span class="syntax-keyword">await</span> batch <span class="syntax-keyword">in</span> batches {
  <span class="syntax-keyword">let</span> data <span class="syntax-operator">=</span> <span class="syntax-keyword">try</span> encoder.encode(batch)
  <span class="syntax-keyword">try</span> <span class="syntax-keyword">await</span> postToServer(data) 
}</code></pre>
									</li>
																		<li class="sample-code-main-container">
										<button class="btn-copy-code">Copy Code</button>
										<p>11:22 - <a class="jump-to-time-sample" href="/videos/play/wwdc2022/110355/?time=682" data-start-time="682">Conversions in initializers</a></p>
									<pre class="code-source"><code><span class="syntax-comment">// Create a message with awaiting attachments to be encoded</span>
<span class="syntax-keyword">init</span>&lt;<span class="syntax-type">Attachments</span>: <span class="syntax-type">AsyncSequence</span>&gt;(<span class="syntax-keyword">_</span> <span class="syntax-params">attachments</span>: <span class="syntax-type">Attachments</span>) <span class="syntax-keyword">async</span> <span class="syntax-keyword">rethrows</span> {
  <span class="syntax-keyword">self</span>.attachments <span class="syntax-operator">=</span> <span class="syntax-keyword">try</span> <span class="syntax-keyword">await</span> <span class="syntax-type">Array</span>(attachments)
}</code></pre>
									</li>
																	</ul>
							</section>
						</li>

						<!-- search -->
						<li class="supplement search active" data-supplement-id="search">

							<section class="transcript-results-summary">
								<p class="message smaller lighter"><!-- to be populated --></p>
								<p class="instructions smaller lighter text-center">Looking for something specific? Enter a topic above and jump straight to the good stuff.</p>
								<p class="error smaller lighter italic text-center" style="display:none;">An error occurred when submitting your query. Please check your Internet connection and try again.</p>
							</section>

							<!-- search results -->
							<ul class="transcript-results row">
															</ul>

						</li>

					</ul>

				</section>

			</section>

		</section>

		<input id="analytics-meta" type="hidden" data-event-name="WWDC22" 
		data-event-id="wwdc2022-110355" 
		data-session-id="110355" 
		data-video-name="Meet Swift Async Algorithms" 
		data-session-response-id="">
	</main>

	<link rel="stylesheet" href="/assets/styles/footer.dist.css?23182355271">
<footer id="footer" class="footer" role="contentinfo" aria-labelledby="footer-label">
    <div class="footer-content">
        <h2 class="footer-label" id="footer-label">Developer Footer</h2>
		
		<developer-breadcrumbs>
			<li class="footer-breadcrumbs-item"><a href="/videos/">Videos</a></li>
				<li class="footer-breadcrumbs-item"><a href="/videos/wwdc2022/">WWDC22</a></li>				<li class="footer-breadcrumbs-item">Meet Swift Async Algorithms</li>
			
		</developer-breadcrumbs>
		        <nav class="footer-directory" aria-label="Apple Developer Directory" role="navigation">
	<!--googleoff: all-->
	<div class="footer-directory-column">
		<input class="footer-directory-column-section-state" type="checkbox" id="footer-directory-column-section-state-platform" />
		<div class="footer-directory-column-section">
			<label class="footer-directory-column-section-label" for="footer-directory-column-section-state-platform">
				<h3 class="footer-directory-column-section-title">Platforms</h3>
			</label>
			<a href="#footer-directory-column-section-state-platform" class="footer-directory-column-section-anchor footer-directory-column-section-anchor-open"> <span class="footer-directory-column-section-anchor-label">Open Menu</span> </a>
			<a href="#" class="footer-directory-column-section-anchor footer-directory-column-section-anchor-close"> <span class="footer-directory-column-section-anchor-label">Close Menu</span> </a>
			<ul class="footer-directory-column-section-list">
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/ios/">iOS</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/ipados/">iPadOS</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/macos/">macOS</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/tvos/">tvOS</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/visionos/">visionOS</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/watchos/">watchOS</a></li>
			</ul>
		</div>

		<input class="footer-directory-column-section-state" type="checkbox" id="footer-directory-column-section-state-tools" />
		<div class="footer-directory-column-section">
			<label class="footer-directory-column-section-label" for="footer-directory-column-section-state-tools">
				<h3 class="footer-directory-column-section-title">Tools</h3>
			</label>
			<a href="#footer-directory-column-section-state-tools" class="footer-directory-column-section-anchor footer-directory-column-section-anchor-open"> <span class="footer-directory-column-section-anchor-label">Open Menu</span> </a>
			<a href="#" class="footer-directory-column-section-anchor footer-directory-column-section-anchor-close"> <span class="footer-directory-column-section-anchor-label">Close Menu</span> </a>
			<ul class="footer-directory-column-section-list">
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/swift/">Swift</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/swiftui/">SwiftUI</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/swift-playgrounds/">Swift Playgrounds</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/testflight/">TestFlight</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/xcode/">Xcode</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/xcode-cloud/">Xcode Cloud</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/sf-symbols/">SF Symbols</a></li>
			</ul>
		</div>
	</div>

	<div class="footer-directory-column">
		<input class="footer-directory-column-section-state" type="checkbox" id="footer-directory-column-section-state-topics" />
		<div class="footer-directory-column-section">
			<label class="footer-directory-column-section-label" for="footer-directory-column-section-state-topics">
				<h3 class="footer-directory-column-section-title">Topics &amp; Technologies</h3>
			</label>
			<a href="#footer-directory-column-section-state-topics" class="footer-directory-column-section-anchor footer-directory-column-section-anchor-open"> <span class="footer-directory-column-section-anchor-label">Open Menu</span> </a>
			<a href="#" class="footer-directory-column-section-anchor footer-directory-column-section-anchor-close"> <span class="footer-directory-column-section-anchor-label">Close Menu</span> </a>
			<ul class="footer-directory-column-section-list">
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/accessibility/">Accessibility</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/accessories/">Accessories</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/app-extensions/">App Extensions</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/app-store/">App Store</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/audio/">Audio &amp; Video</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/augmented-reality/">Augmented Reality</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/business/">Business</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/design/">Design</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/distribute/">Distribution</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/education/">Education</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/fonts/">Fonts</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/games/">Games</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/health-fitness/">Health &amp; Fitness</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/in-app-purchase/">In-App Purchase</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/localization/">Localization</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/maps/">Maps &amp; Location</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/machine-learning/">Machine Learning</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="https://opensource.apple.com">Open Source</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/security/">Security</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/safari/">Safari &amp; Web</a></li>
			</ul>
		</div>
	</div>

	<div class="footer-directory-column">
		<input class="footer-directory-column-section-state" type="checkbox" id="footer-directory-column-section-state-resources" />
		<div class="footer-directory-column-section">
			<label class="footer-directory-column-section-label" for="footer-directory-column-section-state-resources">
				<h3 class="footer-directory-column-section-title">Resources</h3>
			</label>
			<a href="#footer-directory-column-section-state-resources" class="footer-directory-column-section-anchor footer-directory-column-section-anchor-open"> <span class="footer-directory-column-section-anchor-label">Open Menu</span> </a>
			<a href="#" class="footer-directory-column-section-anchor footer-directory-column-section-anchor-close"> <span class="footer-directory-column-section-anchor-label">Close Menu</span> </a>
			<ul class="footer-directory-column-section-list">
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/documentation/">Documentation</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/learn/curriculum/">Curriculum</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/download/">Downloads</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/forums/">Forums</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/videos/">Videos</a></li>
			</ul>
		</div>

		<input class="footer-directory-column-section-state" type="checkbox" id="footer-directory-column-section-state-support" />
		<div class="footer-directory-column-section">
			<label class="footer-directory-column-section-label" for="footer-directory-column-section-state-support">
				<h3 class="footer-directory-column-section-title">Support</h3>
			</label>
			<a href="#footer-directory-column-section-state-support" class="footer-directory-column-section-anchor footer-directory-column-section-anchor-open"> <span class="footer-directory-column-section-anchor-label">Open Menu</span> </a>
			<a href="#" class="footer-directory-column-section-anchor footer-directory-column-section-anchor-close"> <span class="footer-directory-column-section-anchor-label">Close Menu</span> </a>
			<ul class="footer-directory-column-section-list">
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/support/articles/">Support Articles</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/contact/">Contact Us</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/bug-reporting/">Bug Reporting</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/system-status/">System Status</a></li>
			</ul>
		</div>

		<input class="footer-directory-column-section-state" type="checkbox" id="footer-directory-column-section-state-account" />
		<div class="footer-directory-column-section">
			<label class="footer-directory-column-section-label" for="footer-directory-column-section-state-account">
				<h3 class="footer-directory-column-section-title">Account</h3>
			</label>
			<a href="#footer-directory-column-section-state-account" class="footer-directory-column-section-anchor footer-directory-column-section-anchor-open"> <span class="footer-directory-column-section-anchor-label">Open Menu</span> </a>
			<a href="#" class="footer-directory-column-section-anchor footer-directory-column-section-anchor-close"> <span class="footer-directory-column-section-anchor-label">Close Menu</span> </a>
			<ul class="footer-directory-column-section-list">
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/account/">Apple Developer</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="https://appstoreconnect.apple.com/">App Store Connect</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/account/ios/certificate/">Certificates, IDs, &amp; Profiles</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="https://feedbackassistant.apple.com/">Feedback Assistant</a></li>
			</ul>
		</div>
	</div>
	
	<div class="footer-directory-column">
		<input class="footer-directory-column-section-state" type="checkbox" id="footer-directory-column-section-state-programs" />
		<div class="footer-directory-column-section">
			<label class="footer-directory-column-section-label" for="footer-directory-column-section-state-programs">
				<h3 class="footer-directory-column-section-title">Programs</h3>
			</label>
			<a href="#footer-directory-column-section-state-programs" class="footer-directory-column-section-anchor footer-directory-column-section-anchor-open"> <span class="footer-directory-column-section-anchor-label">Open Menu</span> </a>
			<a href="#" class="footer-directory-column-section-anchor footer-directory-column-section-anchor-close"> <span class="footer-directory-column-section-anchor-label">Close Menu</span> </a>
			<ul class="footer-directory-column-section-list">
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/programs/">Apple Developer Program</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/programs/enterprise/">Apple Developer Enterprise Program</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/app-store/small-business-program/">App Store Small Business Program</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="https://mfi.apple.com/">MFi Program</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/programs/news-partner/">News Partner Program</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/programs/video-partner/">Video Partner Program</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/security-bounty/">Security Bounty Program</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/programs/security-research-device/">Security Research Device Program</a></li>
			</ul>
		</div>

		<input class="footer-directory-column-section-state" type="checkbox" id="footer-directory-column-section-state-events" />
		<div class="footer-directory-column-section">
			<label class="footer-directory-column-section-label" for="footer-directory-column-section-state-events">
				<h3 class="footer-directory-column-section-title">Events</h3>
			</label>
			<a href="#footer-directory-column-section-state-events" class="footer-directory-column-section-anchor footer-directory-column-section-anchor-open"> <span class="footer-directory-column-section-anchor-label">Open Menu</span> </a>
			<a href="#" class="footer-directory-column-section-anchor footer-directory-column-section-anchor-close"> <span class="footer-directory-column-section-anchor-label">Close Menu</span> </a>
			<ul class="footer-directory-column-section-list">
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/events/">Meet with Apple Experts</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/accelerator/">App Accelerators</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/app-store/app-store-awards/">App Store Awards</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/design/awards/">Apple Design Awards</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/learn/experts/#academies">Apple Developer Academies</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/entrepreneur-camp/">Entrepreneur Camp</a></li>
				<li class="footer-directory-column-section-item"><a class="footer-directory-column-section-link" href="/wwdc/">WWDC</a></li>
			</ul>
		</div>
	</div>
	<!--googleon: all-->
</nav>
        <section class="footer-mini" vocab="http://schema.org/" typeof="Organization">
	<div class="footer-mini-news">
		<div class="copy">
			Get the <a href="https://apps.apple.com/us/app/apple-developer/id640199958">Apple Developer app</a>.
		</div>
		<div class="content">
			<div class="color-scheme-toggle"
				role="radiogroup"
				tabindex="0"
				aria-label="Select a color scheme preference">

				<label data-color-scheme-option="light">

					<input type="radio" value="light" autocomplete="off"
						onchange="window.setPreferredColorScheme(event.target.value)" />

					<div class="text">Light</div>

				</label>

				<label data-color-scheme-option="dark">

					<input type="radio" value="dark" autocomplete="off"
						onchange="window.setPreferredColorScheme(event.target.value)" />

					<div class="text">Dark</div>

				</label>

				<label data-color-scheme-option="auto">

					<input type="radio" value="auto" autocomplete="off"
						onchange="window.setPreferredColorScheme(event.target.value)" />

					<div class="text">Auto</div>

				</label>

			</div>
			<script async src="/assets/scripts/color-scheme-toggle.js"></script>
		</div>
	</div>
	<link rel="stylesheet" href="/assets/styles/language-dropdown.css?23182355271">
	<div class="language-dropdown dropdown-container legacy-form hidden">
		<select class="dropdown" aria-label="Language Dropdown"></select>
		<span class="dropdown-icon icon icon-chevrondown" aria-hidden="true"></span>
	</div>
	<script src="/assets/scripts/language-dropdown.js?23182355271"></script>
	<div class="footer-mini-legal">
		<div class="footer-mini-legal-copyright">Copyright ©  2024 <a href="https://www.apple.com">Apple Inc.</a> All rights reserved.</div>
		<div class="footer-mini-legal-links">
			<a class="footer-mini-legal-link" href="https://www.apple.com/legal/internet-services/terms/site.html" class="first">Terms of Use</a>
			<a class="footer-mini-legal-link" href="https://www.apple.com/legal/privacy/">Privacy Policy</a>
			<a class="footer-mini-legal-link" href="/support/terms/">Agreements and Guidelines</a>
		</div>
	</div>
</section>
    </div>
</footer>

	<script src="/assets/scripts/params.js"></script>
	<script src="/assets/scripts/watchable.js"></script>
	<script src="/assets/scripts/timeout.js"></script>
	
	<script src="/videos/scripts/play/play.js?39182354271"></script>
	<script src="/videos/scripts/hls/rtc.min.js?39182354271"></script>
	<script src="/videos/scripts/hls/hls.min.js?13202352334"></script>
	
</body>
</html>
