<!DOCTYPE html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D">
<head >
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover,maximum-scale=1,user-scalable=0">
  <meta name="referrer" content="unsafe-url">
  <title>Custom refactoring tool: Swift / Хабр</title>
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }

    /* non-breaking hyphen */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/l/font?kit=KFOlCnqEu92Fr1MmEU9vBh0_IsHAlmrO6g&skey=ee881451c540fdec&v=v29) format('woff2');
      unicode-range: U+02011;
    }
  </style>
  <link rel="preload" href="https://assets.habr.com/habr-web/css/theme/light.css" as="style"/><link id="light-colors" rel="stylesheet" href="https://assets.habr.com/habr-web/css/theme/light.css" media="all" />
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.5e25635d.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.02fc1736.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/app.a69a184a.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/app.6cc13d0e.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/js/7298.c8f1d73c.js" as="script">
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.5e25635d.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.a69a184a.css">
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.81983413baaf34ca3062d1338d3534a8.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
  
  <script data-vue-meta="ssr" type="application/ld+json" data-vmid="ldjson-schema">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/companies\/sberbank\/articles\/460227\/"},"headline":"Custom refactoring tool: Swift","datePublished":"2019-07-17T09:38:48+03:00","dateModified":"2019-07-17T13:50:26+03:00","author":{"@type":"Person","name":"Антон Власов"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"Любой инженер стремится сделать процесс своей работы максимально оптимизированным. Нам, как мобильным разработчикам iOS, очень часто приходится работать с однооб...","url":"https:\/\/habr.com\/ru\/companies\/sberbank\/articles\/460227\/#post-content-body","about":["c_sberbank","h_complete_code","h_ios_dev","h_refactoring","h_swift","f_develop"],"image":["https:\/\/habrastorage.org\/getpro\/habr\/post_images\/4b6\/69d\/e24\/4b669de249e57f8f8d7ad2da21df22a3.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/d68\/6b7\/ad5\/d686b7ad5d24b87b61df2bb6d87299eb.gif","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/00b\/9e7\/f23\/00b9e7f23d9d1c1b3e02d14905179ef2.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/350\/269\/29f\/35026929fee03914b2689ee5b20fa6f8.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/901\/276\/7b6\/9012767b6955ddd58dfc221181e8a70b.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/fce\/30f\/c9d\/fce30fc9de1ab5b473ff9ac14795c462.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/670\/987\/f65\/670987f65cedaec71b072c3d2c721315.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/b67\/402\/ead\/b67402ead1fd1e4470886c8a8ad2f3c2.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/f7d\/7cb\/458\/f7d7cb4587c345d03bc77fc62cd615a9.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/329\/254\/23c\/32925423cba91d5951178b9be63a70d5.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/e7f\/ba1\/e70\/e7fba1e70c05ada9602ba90164c67db8.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/0a1\/663\/046\/0a1663046435877088f58d14329123f5.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/a38\/3a9\/b3d\/a383a9b3d80613dda377d5cd7f43411c.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/893\/d2b\/c31\/893d2bc311ceba6313fad5d474f6ea2e.png"]}</script>
  <style>.grecaptcha-badge{visibility: hidden;}</style>
  <meta name="habr-version" content="2.169.0">
  <meta name="csrf-token" content="232R7xW7-xs7I0dZF6YygzsTRP5-cVUzlnEA">
  <meta data-vue-meta="ssr" property="fb:app_id" content="444736788986613"><meta data-vue-meta="ssr" property="fb:pages" content="472597926099084"><meta data-vue-meta="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" name="twitter:site" content="@habr_com"><meta data-vue-meta="ssr" property="og:site_name" content="Хабр" data-vmid="og:site_name"><meta data-vue-meta="ssr" property="og:title" content="Custom refactoring tool: Swift" data-vmid="og:title"><meta data-vue-meta="ssr" name="twitter:title" content="Custom refactoring tool: Swift" data-vmid="twitter:title"><meta data-vue-meta="ssr" name="aiturec:title" content="Custom refactoring tool: Swift" data-vmid="aiturec:title"><meta data-vue-meta="ssr" name="description" content="Любой инженер стремится сделать процесс своей работы максимально оптимизированным. Нам, как мобильным разработчикам iOS, очень часто приходится работать с однообразными структурами языка. Компания..." data-vmid="description"><meta data-vue-meta="ssr" itemprop="description" content="Любой инженер стремится сделать процесс своей работы максимально оптимизированным. Нам, как мобильным разработчикам iOS, очень часто приходится работать с однообразными структурами языка. Компания..." data-vmid="description:itemprop"><meta data-vue-meta="ssr" property="og:description" content="Любой инженер стремится сделать процесс своей работы максимально оптимизированным. Нам, как мобильным разработчикам iOS, очень часто приходится работать с однообразными структурами языка. Компания..." data-vmid="og:description"><meta data-vue-meta="ssr" name="twitter:description" content="Любой инженер стремится сделать процесс своей работы максимально оптимизированным. Нам, как мобильным разработчикам iOS, очень часто приходится работать с однообразными структурами языка. Компания..." data-vmid="twitter:description"><meta data-vue-meta="ssr" property="aiturec:description" content="Любой инженер стремится сделать процесс своей работы максимально оптимизированным. Нам, как мобильным разработчикам iOS, очень часто приходится работать с однообразными структурами языка. Компания..." data-vmid="aiturec:description"><meta data-vue-meta="ssr" itemprop="image" content="https://habr.com/share/publication/460227/25a1566325b260e078c21003f2118050/" data-vmid="image:itemprop"><meta data-vue-meta="ssr" property="og:image" content="https://habr.com/share/publication/460227/25a1566325b260e078c21003f2118050/" data-vmid="og:image"><meta data-vue-meta="ssr" property="og:image:width" content="1200" data-vmid="og:image:width"><meta data-vue-meta="ssr" property="og:image:height" content="630" data-vmid="og:image:height"><meta data-vue-meta="ssr" property="aiturec:image" content="https://habr.com/share/publication/460227/25a1566325b260e078c21003f2118050/" data-vmid="aiturec:image"><meta data-vue-meta="ssr" name="twitter:image" content="https://habr.com/share/publication/460227/25a1566325b260e078c21003f2118050/" data-vmid="twitter:image"><meta data-vue-meta="ssr" property="vk:image" content="https://habr.com/share/publication/460227/25a1566325b260e078c21003f2118050/?format=vk" data-vmid="vk:image"><meta data-vue-meta="ssr" property="aiturec:item_id" content="460227" data-vmid="aiturec:item_id"><meta data-vue-meta="ssr" property="aiturec:datetime" content="2019-07-17T06:38:48.000Z" data-vmid="aiturec:datetime"><meta data-vue-meta="ssr" content="https://habr.com/ru/companies/sberbank/articles/460227/" property="og:url" data-vmid="og:url"><meta data-vue-meta="ssr" property="og:type" content="article" data-vmid="og:type"><meta data-vue-meta="ssr" property="og:locale" content="ru_RU" data-vmid="og:locale"><meta data-vue-meta="ssr" name="keywords" content="Сбербанк, swift разработка, swift, рефакторинг">
  <link data-vue-meta="ssr" href="https://habr.com/ru/rss/publications/460227/?fl=ru" type="application/rss+xml" title="" rel="alternate" name="rss"><link data-vue-meta="ssr" href="https://habr.com/ru/companies/sberbank/articles/460227/" rel="canonical" data-vmid="canonical"><link data-vue-meta="ssr" rel="image_src" href="https://habr.com/share/publication/460227/25a1566325b260e078c21003f2118050/" data-vmid="image:href">
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
  <meta name="msapplication-TileColor" content="#629FBC">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="16x16"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png"
  >
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="32x32"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="76x76"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="120x120"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="152x152"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="180x180"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="256x256"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png"
  >
  <link
    rel="mask-icon"
    color="#77a2b6"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg"
  >
  <link
    crossorigin="use-credentials"
    href="/manifest.webmanifest"
    rel="manifest"
  >
  <script async src="https://unpkg.com/pwacompat" crossorigin="anonymous"></script>
  <script>window.yaContextCb = window.yaContextCb || []</script>
  <script src="https://yandex.ru/ads/system/context.js" async></script>
</head>
<body>


<div id="app" data-server-rendered="true" data-async-called="true"><div class="tm-layout__wrapper"><!----> <div></div> <!----> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><!----> <span class="tm-header__logo-wrap"><a href="/ru/" class="tm-header__logo tm-header__logo tm-header__logo_hl-ru"><svg height="16" width="16" class="tm-svg-img tm-header__icon"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title> <use xlink:href="/img/megazord-v28.faec9762..svg#arrow-down"></use></svg></button></div> <!----></div> <a href="/ru/sandbox/start/" class="tm-header__become-author-btn">
            Как стать автором
          </a> <div class="tm-feature tm-header__feature tm-feature tm-feature_variant-inline"><!----></div> <!----> <!----></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky"><div class="tm-page-width"><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><a href="/ru/feed/" class="tm-main-menu__item">
        Моя лента
      </a> <a href="/ru/articles/" class="tm-main-menu__item">
        Все потоки
      </a> <a href="/ru/flows/develop/" class="tm-main-menu__item">
          Разработка
        </a><a href="/ru/flows/admin/" class="tm-main-menu__item">
          Администрирование
        </a><a href="/ru/flows/design/" class="tm-main-menu__item">
          Дизайн
        </a><a href="/ru/flows/management/" class="tm-main-menu__item">
          Менеджмент
        </a><a href="/ru/flows/marketing/" class="tm-main-menu__item">
          Маркетинг
        </a><a href="/ru/flows/popsci/" class="tm-main-menu__item">
          Научпоп
        </a></nav></div></div> <div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search"><svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark"><title>Поиск</title> <use xlink:href="/img/megazord-v28.faec9762..svg#search"></use></svg></a> <!----> <!----> <!----> <div class="tm-header-user-menu__item"><button class="tm-header-user-menu__toggle"><svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_dark"><title>Настройки</title> <use xlink:href="/img/megazord-v28.faec9762..svg#page-settings"></use></svg></button></div> <a href="https://habr.com/kek/v1/auth/habrahabr/?back=/ru/companies/sberbank/articles/460227/&amp;hl=ru" rel="nofollow" class="tm-header-user-menu__item"><button type="button" class="tm-header-user-menu__login btn btn_solid btn_small">
        Войти
      </button></a> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></div></div></div> <!----> <div class="tm-page-width"></div> <main class="tm-layout__container"><div hl="ru" companyName="sberbank" data-async-called="true" class="tm-page"><div class="tm-page-width"><div class="tm-page__header"><div class="tm-company-card__branding tm-company-article__branding tm-company-card__branding_loading"><div class="tm-company-card__branding-placeholder"><!----></div> <img src="//habrastorage.org/getpro/habr/branding/98e/c7c/38f/98ec7c38f77f1e1218096088ab63c2e2.png" width="100%" class="tm-company-card__branding-image"></div></div> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><!----> <div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg height="24" width="24" class="tm-svg-img pull-down__icon pull-down__arrow"><title>Обновить</title> <use xlink:href="/img/megazord-v28.faec9762..svg#pull-arrow"></use></svg></div></div> <div class="tm-article-presenter"><!----> <div class="tm-company-profile-card tm-company-article__profile-card"><div class="tm-company-card tm-company-profile-card__info"><div class="tm-company-card__header"><a href="/ru/companies/sberbank/profile/" class="tm-company-card__avatar"><div class="tm-entity-image"><img alt height="48" src="//habrastorage.org/getpro/habr/company/9db/3c1/ec0/9db3c1ec02265b8bcbfdfb0d23d8b9f2.jpg" width="48" class="tm-entity-image__pic"></div></a> <!----> <div class="tm-counter-container tm-company-card__rating"><div class="tm-counter-container__header"> <div class="tm-votes-lever tm-votes-lever tm-votes-lever_appearance-rating"><!----> <div class="tm-votes-lever__score tm-votes-lever__score tm-votes-lever__score_appearance-rating"><span><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter tm-votes-lever__score-counter_rating">
          403.77
        </span></span></div> <!----></div></div> <div class="tm-counter-container__footer"><span class="tm-rating__text tm-rating__text">
      Рейтинг
    </span></div></div> <!----></div> <div class="tm-company-card__info"><a href="/ru/companies/sberbank/profile/" class="tm-company-card__name">Сбер</a> <div class="tm-company-card__description">Технологии, меняющие мир</div></div></div> <!----></div> <!----> <div class="tm-article-presenter__body"><div class="tm-misprint-area"><div class="tm-misprint-area__wrapper"><article class="tm-article-presenter__content tm-article-presenter__content_narrow"><div class="tm-article-presenter__header"> <div class="tm-article-snippet tm-article-presenter__snippet tm-article-snippet"> <div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/regno/" title="regno" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt height="24" src="https://assets.habr.com/habr-web/img/avatars/140.png" width="24" class="tm-entity-image__pic"></img></div></a> <span class="tm-user-info__user tm-user-info__user_appearance-default"><a href="/ru/users/regno/" class="tm-user-info__username">
      regno
      <!----></a> <span class="tm-article-datetime-published"><time datetime="2019-07-17T06:38:48.000Z" title="2019-07-17, 09:38">17  июл  2019 в 09:38</time></span></span></span></div> <!----></div> <h1 lang="ru" class="tm-title tm-title_h1"><span>Custom refactoring tool: Swift</span></h1> <div class="tm-article-snippet__stats"><!----> <div class="tm-article-reading-time"><span class="tm-svg-icon__wrapper tm-article-reading-time__icon"><svg height="24" width="24" class="tm-svg-img tm-svg-icon"><title>Время на прочтение</title> <use xlink:href="/img/megazord-v28.faec9762..svg#clock"></use></svg></span> <span class="tm-article-reading-time__label">
    10 мин
  </span></div> <span class="tm-icon-counter tm-data-icons__item"><svg height="24" width="24" class="tm-svg-img tm-icon-counter__icon"><title>Количество просмотров</title> <use xlink:href="/img/megazord-v28.faec9762..svg#counter-views"></use></svg> <span class="tm-icon-counter__value">7.2K</span></span></div> <div class="tm-publication-hubs__container"><div class="tm-publication-hubs"><span class="tm-publication-hub__link-container"><a href="/ru/companies/sberbank/articles/" class="router-link-active tm-publication-hub__link"><span>Блог компании Сбер</span> <!----></a></span><span class="tm-publication-hub__link-container"><a href="/ru/hubs/complete_code/" class="tm-publication-hub__link"><span>Совершенный код</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-publication-hub__link-container"><a href="/ru/hubs/ios_dev/" class="tm-publication-hub__link"><span>Разработка под iOS</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-publication-hub__link-container"><a href="/ru/hubs/refactoring/" class="tm-publication-hub__link"><span>Проектирование и рефакторинг</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-publication-hub__link-container"><a href="/ru/hubs/swift/" class="tm-publication-hub__link"><span>Swift</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span></div></div> <!----> <!----> <!----></div></div> <!----> <div data-gallery-root="" lang="ru" class="tm-article-body"><div></div> <div id="post-content-body"><div><div class="article-formatted-body article-formatted-body article-formatted-body_version-1"><div xmlns="http://www.w3.org/1999/xhtml">Любой инженер стремится сделать процесс своей работы максимально оптимизированным. Нам, как мобильным разработчикам iOS, очень часто приходится работать с однообразными структурами языка. Компания Apple улучшает инструменты разработчиков, прилагая много усилий, чтобы нам было удобно программировать: подсветка языка, автодополнение методов и многие другие возможности IDE позволяют нашим пальцам успевать за идеями в голове.<br/>
<br/>
<img src="https://habrastorage.org/r/w1560/getpro/habr/post_images/4b6/69d/e24/4b669de249e57f8f8d7ad2da21df22a3.png" data-src="https://habrastorage.org/getpro/habr/post_images/4b6/69d/e24/4b669de249e57f8f8d7ad2da21df22a3.png"/><br/>
<br/>
Что делает инженер, когда необходимый инструмент отсутствует? Верно, сделает всё сам! Ранее мы уже <a href="https://habr.com/ru/company/sberbank/blog/447594/">рассказывали</a> о создании своих кастомных инструментов, теперь поговорим о том, как модифицировать Xcode и заставить его работать по твоим правилам.<br/>
<a name="habracut"></a><br/>
Мы взяли таску из <a href="https://bugs.swift.org/browse/SR-5744">JIRA Swift</a>‘а и сделали инструмент, преобразующий <b>if let</b> в эквивалентную конструкцию <b>guard let</b>.<br/>
<br/>
<img src="https://habrastorage.org/getpro/habr/post_images/d68/6b7/ad5/d686b7ad5d24b87b61df2bb6d87299eb.gif" data-src="https://habrastorage.org/getpro/habr/post_images/d68/6b7/ad5/d686b7ad5d24b87b61df2bb6d87299eb.gif"/><br/>
<br/>
С девятой версии Xcode предоставляет новый механизм рефакторинга, который может преобразовывать код локально, в пределах одного исходного файла Swift, или глобально, когда вы переименовываете метод или свойство, которые встречаются в нескольких файлах, даже если они на разных языках. <br/>
<br/>
Локальный рефакторинг полностью реализован в компиляторе и фреймворке SourceKit, фича находится в опенсорсном репозитории Swift'а и написана на С++. Модификация глобального рефакторинга в настоящее время является недоступной для обывателей, потому что кодовая база Xcode закрыта. Поэтому остановимся на локальной истории и расскажем о том, как повторить наш опыт.  <br/>
<br/>
Что потребуется для создания своего инструмента для локального рефакторинга:<br/>
<br/>
<ol>
<li>Понимание С++<br/>
</li>
<li>Базовые знания работы компилятора<br/>
</li>
<li>Понимание, что такое AST и как с ним работать<br/>
</li>
<li>Исходный код <a href="https://github.com/apple/swift">Swift</a><br/>
</li>
<li>Гайд <a href="https://github.com/apple/swift/blob/master/docs/refactoring/SwiftLocalRefactoring.md">swift/docs/refactoring/SwiftLocalRefactoring.md</a><br/>
</li>
<li>Много терпения<br/>
</li>
</ol><br/>
<h2>Немного об AST</h2><br/>
Немного теоретических азов до того, как погружаться в практику. Давайте посмотрим на работу архитектуры компилятора Swift. В первую очередь компилятор отвечает за трансформацию кода в исполняемый машинный код. <br/>
<br/>
<img src="https://habrastorage.org/r/w1560/getpro/habr/post_images/00b/9e7/f23/00b9e7f23d9d1c1b3e02d14905179ef2.png" data-src="https://habrastorage.org/getpro/habr/post_images/00b/9e7/f23/00b9e7f23d9d1c1b3e02d14905179ef2.png"/><br/>
<br/>
Из представленных этапов трансформации наиболее интересным для нас является генерация абстрактного синтаксического дерева (AST) — графа, в котором вершинами являются операторы, а листьями — их операнды. <br/>
<br/>
<img src="https://habrastorage.org/r/w1560/getpro/habr/post_images/350/269/29f/35026929fee03914b2689ee5b20fa6f8.png" data-src="https://habrastorage.org/getpro/habr/post_images/350/269/29f/35026929fee03914b2689ee5b20fa6f8.png"/><br/>
<br/>
Синтаксические деревья используются в парсере. AST используется в качестве внутреннего представления в компиляторе/интерпретаторе компьютерной программы для оптимизации и генерации кода. <br/>
<br/>
После генерации AST выполняется синтаксический анализ для создания AST с проверкой типа, который был переведен на язык промежуточного языка Swift (Swift Intermediate Language). SIL преобразуется, оптимизируется, понижается до LLVM IR, который в конечном итоге компилируется в машинный код.<br/>
<br/>
Чтобы создать инструмент рефакторинга, нам нужно понимать AST и уметь работать с ним. Так инструмент сможет корректно оперировать частями кода, который мы хотим обработать.<br/>
<br/>
Чтобы сгенерировать AST какого-либо файла, запустите команду: swiftc -dump-ast <i>MyFile.swift <br/>
<br/>
Ниже представлен <a href="https://bugs.swift.org/browse/SR-5744">вывод в консоль</a> AST функции <b>if let</b>, о которой говорилось ранее. <br/>
<br/>
<img src="https://habrastorage.org/r/w1560/getpro/habr/post_images/901/276/7b6/9012767b6955ddd58dfc221181e8a70b.png" data-src="https://habrastorage.org/getpro/habr/post_images/901/276/7b6/9012767b6955ddd58dfc221181e8a70b.png"/></i><br/>
<br/>
В Swift AST существует три основных типа узлов: <br/>
<br/>
<ul>
<li>объявления (подклассы типа Decl), <br/>
</li>
<li>выражения (подклассы типа Expr), <br/>
</li>
<li>операторы (подклассы типа Stmt). <br/>
</li>
</ul><br/>
Они соответствуют трем сущностям, которые используются в самом языке Swift. Имена функций, структур, параметров — это объявления. Выражения — это сущности, возвращающие значение; например, вызов функций. Операторы являются частями языка, которые определяют поток управления исполнения кода, но не возвращают значение (например, if или do-catch).<br/>
<br/>
Это достаточный минимум, который вам нужно знать про AST для предстоящей работы.<br/>
<br/>
<h2>Как работает инструмент рефакторинга в теории</h2><br/>
Чтобы реализовать рефакторинг-тулзу, вам потребуется специфическая информация о той области кода, которую вы собираетесь менять. Разработчикам предоставляются вспомогательные сущности, аккумулирующие данные. Первая — ResolvedCursorInfo (рефакторинг на основе курсора) — сообщит о том, находимся ли мы в начале выражения. Если да, то возвращается соответствующий объект компилятора этого выражения. Вторая сущность — RangeInfo (рефакторинг на основе диапазона) — инкапсулирует данные об исходном диапазоне (например, сколько у него точек входа и выхода).<br/>
<br/>
Рефакторинг на основе курсора инициируется расположением курсора в исходном файле. Действия рефакторинга реализуют методы, которые механизм рефакторинга использует для отображения доступных действий в среде IDE и для выполнения преобразований. Примеры действий на основе курсора: Jump to definition, quick help и др.<br/>
<br/>
<img src="https://habrastorage.org/r/w1560/getpro/habr/post_images/fce/30f/c9d/fce30fc9de1ab5b473ff9ac14795c462.png" data-src="https://habrastorage.org/getpro/habr/post_images/fce/30f/c9d/fce30fc9de1ab5b473ff9ac14795c462.png"/><br/>
<br/>
Рассмотрим привычные действия с технической стороны: <br/>
<br/>
<ol>
<li>Когда вы выбираете местоположение из редактора Xcode, выполняется запрос к <a href="https://github.com/apple/swift/tree/master/tools/SourceKit/tools/sourcekitd">sourcekitd</a> (фреймворк, ответственный за подсветку, автодополнение кода и др.), чтобы отобразить доступные действия по рефакторингу. <br/>
</li>
<li>Каждое доступное действие запрашивается объектом ResolvedCursorInfo, чтобы проверить, применимо ли это действие к выбранному коду.<br/>
</li>
<li>Список применимых действий возвращается как ответ от sourcekitd и отображается в Xcode.<br/>
</li>
<li>Затем Xcode применяет правки инструмента рефакторинга.<br/>
</li>
</ol><br/>
Рефакторинг на основе диапазона инициируется выбором непрерывного диапазона кода в исходном файле.<br/>
<br/>
<img src="https://habrastorage.org/r/w1560/getpro/habr/post_images/670/987/f65/670987f65cedaec71b072c3d2c721315.png" data-src="https://habrastorage.org/getpro/habr/post_images/670/987/f65/670987f65cedaec71b072c3d2c721315.png"/><br/>
<br/>
В данном случае инструмент рефакторинга пройдет аналогичную описанной цепочку вызовов. Отличием будет то, что при реализации входом является RangeInfo вместо ResolvedCursorInfo. Заинтересованные читатели могут обратиться к <a href="https://github.com/apple/swift/blob/69deb2777358380000e9ee369b021374bb3bbef6/lib/IDE/Refactoring.cpp">Refactoring.cpp</a> для более подробной информации о примерах реализации инструментов компанией Apple.<br/>
<br/>
А теперь к практике создания инструмента.<br/>
<br/>
<h2>Подготовка</h2><br/>
В первую очередь необходимо скачать и собрать компилятор Swift. Подробная инструкция есть в официальном репозитории (<a href="https://github.com/apple/swift/blob/master/README.md">readme.md</a>). Приведем ключевые команды для клонирования кода:<br/>
<br/>
<pre><code class="swift">mkdir swift-source
cd swift-source
git clone https://github.com/apple/swift.git
./swift/utils/update-checkout --clone</code></pre><br/>
Для описания структуры и зависимостей проекта используется <a href="https://cmake.org/overview/">cmake</a>. С его помощью можно сгенерировать проект для Xcode (удобнее) или под ninja (быстрее) за счет одной из команд:<br/>
<br/>
<pre><code class="swift">./utils/build-script --debug --xcode</code></pre><br/>
или<br/>
<pre><code class="swift">swift/utils/build-script --debug-debuginfo</code></pre><br/>
Для успешной компиляции требуется последняя версия Xcode beta (10.2.1 на момент написания статьи) — доступно на <a href="https://developer.apple.com/download/more/">официальном сайте Apple</a>. Для использования нового Xcode для сборки проекта нужно прописать путь с помощью утилиты xcode-select:<br/>
<br/>
<pre><code class="bash">sudo xcode-select -s /Users/username/Xcode.app</code></pre><br/>
Если мы использовали флаг --xcode для сборки проекта под Xcode соответственно, то по прошествии нескольких часов компиляции (у нас вышло чуть более двух) в папке build мы обнаружим файл Swift.xcodeproj. Открыв проект, мы увидим привычный Xcode с индексацией, брейкпоинтами.<br/>
<br/>
Для создания нового инструмента нам потребуется добавить код с логикой инструмента в файл: lib/IDE/Refactoring.cpp и определить два метода isApplicable и performChange. В первом методе мы решаем, нужно ли выводить опцию рефакторинга для выделенного кода. А во втором — как преобразовать выделенный код, чтобы применить рефакторинг. <br/>
<br/>
После проделанной подготовки остается реализовать следующие шаги:<br/>
<br/>
<ol>
<li>Разработать логику инструмента (разработку можно вести несколькими путями — через toolchain, через Ninja, через Xcode; обо всех вариантах будет рассказано ниже)<br/>
</li>
<li>Реализовать два метода: isApplicable и performChange (они ответственны за доступ к инструменту и его работу)<br/>
</li>
<li>Диагностировать и протестировать готовый инструмент перед отправкой PR'а в официальный репозиторий Swift'а.<br/>
</li>
</ol><br/>
<h2>Проверка работы инструмента через toolchain</h2><br/>
Такой способ разработки заберет у вас много времени из-за долгой сборки компонентов, но зато результат виден сразу в Xcode — путь ручной проверки.<br/>
<br/>
Для начала соберем toolchain Swift с помощью команды:<br/>
<br/>
<pre><code class="plaintext">./utils/build-toolchain some_bundle_id</code></pre><br/>
Компиляция toolchain займет еще больше времени чем сборка компилятора и зависимостей. На выходе получаем файл swift-LOCAL-yyyy-mm-dd.xctoolchain в папке swift-nightly-install, который нужно перенести в Xcode: /Library/Developer/Toolchains/. Далее в настройках IDE выбираем новый toolchain, перезапускаем Xcode. <br/>
<br/>
<img src="https://habrastorage.org/r/w1560/getpro/habr/post_images/b67/402/ead/b67402ead1fd1e4470886c8a8ad2f3c2.png" data-src="https://habrastorage.org/getpro/habr/post_images/b67/402/ead/b67402ead1fd1e4470886c8a8ad2f3c2.png"/><br/>
<br/>
Выделяем кусок кода, который должен обработать инструмент, и ищем инструмент в контекстном меню.<br/>
<br/>
<h2>Разработка через тесты с Ninja</h2><br/>
Если проект был собран под Ninja и вы выбрали путь TDD, то разработка через тесты с Ninja — один из вариантов, который вам подойдет. Минусы — нельзя ставить брейкпоинты, как в разработке через Xcode. <br/>
<br/>
Итак, нам надо проверить, что новый инструмент отображается в Xcode, когда пользователь выделил конструкцию guard в исходном коде. Пишем тест в существующий файл test/refactoring/RefactoringKind/basic.swift:<br/>
 <br/>
<pre><code class="swift">func testConvertToGuardExpr(idxOpt: Int?) {
    if let idx = idxOpt {
        print(idx)
    }
}
//Декларативно определяем условия теста и ожидания.
// RUN: %refactor -source-filename %s -pos=266:3 -end-pos=268:4 | %FileCheck %s -check-prefix=CHECK-CONVERT-TO-GUARD-EXPRESSION
// CHECK-CONVERT-TO-GUARD-EXPRESSION: Convert To Guard Expression</code></pre><br/>
<br/>
Мы указываем, что при выделении кода между 266 строкой 3 колонки и 268 строкой 4 колонки мы ожидаем появления пункта меню с новым инструментом.<br/>
<br/>
Использование скрипта <a href="https://github.com/apple/swift/blob/6fc4cef671947d1d2482951853f7f82854473d91/test/swift_test.py">lit.py</a> может обеспечить более быструю обратную связь с вашим циклом разработки. Можно указывать интересующий test suit. В нашем случае этим сьютом будет RefactoringKind:<br/>
<br/>
<code>./llvm/utils/lit/lit.py -sv ./build/Ninja-RelWithDebInfoAssert/swift-macosx-x86_64/test-macosx-x86_64/refactoring/RefactoringKind/</code><br/>
В итоге запустятся тесты только этого файла. Их выполнение займет пару десятков секунд. Подробнее о lit.py будет сказано ниже в блоке «Диагностика и тестирование».<br/>
Тест не пройдет, что нормально для парадигмы TDD. Ведь пока что мы не написали ни строчки кода с логикой работы инструмента. <br/>
<br/>
<h2>Разработка через отладку и Xcode</h2><br/>
И, наконец, последний метод разработки, когда проект был собран под Xcode. Основной плюс — возможность поставить брейкпоинты и контролировать отладку.<br/>
<br/>
При сборке проекта под Xcode в папке build/Xcode-DebugAssert/swift-macosx-x86_64/ создается файл Swift.xcodeproj. При первом открытии данного файла лучше выбрать создание схем вручную, чтобы самостоятельно сгенерировать ALL_BUILD и swift-refactor:<br/>
<br/>
<img src="https://habrastorage.org/r/w1560/getpro/habr/post_images/f7d/7cb/458/f7d7cb4587c345d03bc77fc62cd615a9.png" data-src="https://habrastorage.org/getpro/habr/post_images/f7d/7cb/458/f7d7cb4587c345d03bc77fc62cd615a9.png"/><br/>
<br/>
Далее собираем проект с ALL_BUILD один раз, после этого используем схему swift-refactor.<br/>
<br/>
Refactoring tool компилируется в отдельный исполняемый файл — swift-refactor. Справку о данном файле можно вывести с помощью флага –help. Самые интересные для нас параметры — это: <br/>
<br/>
<pre><code class="swift">-source-filename=&lt;string> // Исходный файл

-pos=&lt;string> // Начальная позиция	

-end-pos=&lt;string> // Конечная позиция	

-kind // Тип рефакторинга</code></pre><br/>
Их можно задать в схеме в качестве аргументов. Теперь можно ставить брейкпоинты, чтобы остановиться в интересующих местах при запуске инструмента. Привычным способом с помощью команд <i>p</i> и <i>po</i> в консоли XCode выведет значения соответствующих переменных.<br/>
<br/>
<img src="https://habrastorage.org/r/w1560/getpro/habr/post_images/329/254/23c/32925423cba91d5951178b9be63a70d5.png" data-src="https://habrastorage.org/getpro/habr/post_images/329/254/23c/32925423cba91d5951178b9be63a70d5.png"/><br/>
<br/>
<h2>Реализация isApplicable</h2> <br/>
Метод isApplicable принимает на входе ResolvedRangeInfo с информацией об узлах AST выделенного фрагмента кода. На выходе метода решается, показывать инструмент или нет в контекстном меню Xcode. Полный интерфейс ResolvedRangeInfo можно посмотреть в файле <a href="https://github.com/apple/swift/blob/master/include/swift/IDE/Utils.h">include/swift/IDE/Utils.h</a>.  <br/>
<br/>
Рассмотрим наиболее полезные в нашем случае поля класса ResolvedRangeInfo:<br/>
<br/>
<ul>
<li>RangeKind — первым делом стоит проверить тип выделенной области. Если область невалидна (Invalid), можно вернуть false. Если тип нам подходит, например, SingleStatement или MultiStatement, то идем дальше;<br/>
</li>
</ul><br/>
<ul>
<li>ContainedNodes — массив AST элементов, которые входят в выделенный диапазон. Мы хотим убедиться, что пользователь выделил диапазон, в который входит конструкция if let. Для этого берем первый элемент массива и проверяем, что этот элемент соответствует IfStmt (класс, определяющий AST ноду statement подтипа if). Далее смотрим condition. Чтобы упростить реализацию, будем выводить инструмент только для выражений с одним условием. По типу условия (CK_PatternBinding) определяем, что это let. <br/>
</li>
</ul><br/>
<img src="https://habrastorage.org/r/w1560/getpro/habr/post_images/e7f/ba1/e70/e7fba1e70c05ada9602ba90164c67db8.png" data-src="https://habrastorage.org/getpro/habr/post_images/e7f/ba1/e70/e7fba1e70c05ada9602ba90164c67db8.png"/><br/>
<br/>
Чтобы протестировать isApplicable, добавим пример кода в файл <a href="https://github.com/apple/swift/blob/master/test/refactoring/RefactoringKind/basic.swift">test/refactoring/RefactoringKind/basic.swift</a>. <br/>
<br/>
<img src="https://habrastorage.org/r/w1560/getpro/habr/post_images/0a1/663/046/0a1663046435877088f58d14329123f5.png" data-src="https://habrastorage.org/getpro/habr/post_images/0a1/663/046/0a1663046435877088f58d14329123f5.png"/><br/>
<br/>
Чтобы тест мог имитировать вызов нашего инструмента, необходимо добавить строку в файле <a href="https://github.com/apple/swift/blob/master/tools/swift-refactor/swift-refactor.cpp">tools/swift-refactor/swift-refactor.cpp</a>.<a href="https://github.com/apple/swift/blob/master/tools/swift-refactor/swift-refactor.cpp"> </a><br/>
<br/>
<img src="https://habrastorage.org/r/w1560/getpro/habr/post_images/a38/3a9/b3d/a383a9b3d80613dda377d5cd7f43411c.png" data-src="https://habrastorage.org/getpro/habr/post_images/a38/3a9/b3d/a383a9b3d80613dda377d5cd7f43411c.png"/><br/>
<br/>
<h2>Реализуем performChange</h2><br/>
Данный метод вызывается при выборе инструмента рефакторинга в контекстном меню. В методе есть доступ к ResolvedRangeInfo, как и в isApplicable. Используем ResolvedRangeInfo и пишем логику инструмента по преобразованию кода.<br/>
<br/>
При формировании кода для статических токенов (регламентируемых синтаксисом языка) можно использовать сущности из неймспейса tok. Например, для ключевого слова guard  используем tok::kw_guard. Для динамических токенов (изменяемых разработчиком, например, наименование функции) нужно выделить их из массива AST элементов.<br/>
<br/>
Чтобы определить место вставки преобразованного кода, используем полный выделенный диапазон с помощью конструкции RangeInfo.ContentRange.<br/>
<br/>
<img src="https://habrastorage.org/r/w1560/getpro/habr/post_images/893/d2b/c31/893d2bc311ceba6313fad5d474f6ea2e.png" data-src="https://habrastorage.org/getpro/habr/post_images/893/d2b/c31/893d2bc311ceba6313fad5d474f6ea2e.png"/><br/>
<br/>
<h2>Диагностика и тестирование</h2><br/>
Прежде чем закончить работу над инструментом, необходимо проверить корректность его работы еще раз. В этом нам снова помогут тесты. Тесты можно запускать по одному либо всем имеющимся скоупом. Самый простой способ запустить весь набор тестов Swift — команда --test на utils / build-script, который запустит основной набор тестов. Использование utils / build-script пересоберёт все таргеты, что может существенно увеличить время цикла отладки.<br/>
<br/>
Обязательно прогоните проверочные тесты utils / build-script --validation-test перед внесением больших изменений в компилятор или API.<br/>
<br/>
Есть другой способ запустить все модульные тесты компилятора — через ninja, ninja check-swift из build/preset/swift-macosx-x86_64. Это займёт около 15 минут.<br/>
<br/>
И, наконец, вариант, когда вам нужно запустить тесты по отдельности. Чтобы напрямую вызвать сценарий lit.py от LLVM, его необходимо настроить для использования локального каталога сборки. Например:<br/>
<br/>
<pre><code class="swift">% $ {LLVM_SOURCE_ROOT} /utils/lit/lit.py -sv $ {SWIFT_BUILD_DIR} / test-macosx-x86_64 / Parse /</code></pre><br/>
Это запустит тесты в каталоге 'test / Parse /' для 64-битных macOS. Опция -sv предоставляет индикатор выполнения тестов и показывает результаты лишь неудачных тестов.<br/>
<br/>
У lit.py есть ещё несколько полезных функций, например, timing-тесты и тестирование времени ожидания. Посмотреть эти и другие функции можно с помощью lit.py -h. Наиболее полезные можно найти <a href="https://github.com/apple/swift/blob/master/docs/Testing.md">здесь</a>. <br/>
<br/>
Для запуска одного теста пропишем:<br/>
<br/>
<pre><code class="swift"> ./llvm/utils/lit/lit.py -sv ./build/Ninja-RelWithDebInfoAssert/swift-macosx-x86_64/test-macosx-x86_64/refactoring/RefactoringKind/basic.swift </code></pre><br/>
Если нам нужно подтянуть свежие изменения компилятора, то нужно обновить все зависимости и сделать rebase. Для обновления запустить ./utils/update-checkout.<br/>
<br/>
<h2>Выводы</h2><br/>
Нам удалось достичь поставленной цели — сделать инструмент, которого раньше не было в IDE для оптимизации работы. Если у вас тоже есть идеи того, как можно улучшить продукты Apple и облегчить жизнь всему iOS-сообществу, смело беритесь за контрибьютинг, ведь это проще, чем кажется на первый взгляд! <br/>
<br/>
В 2015 году Apple выложила исходные коды Swift в открытый доступ, что дало возможность погрузиться в детали реализации его компилятора. Кроме того, с Xcode 9 можно добавлять локальные инструменты рефакторинга. Достаточно базовых знаний C++ и устройства компилятора, чтобы сделать любимый IDE немного удобнее. <br/>
<br/>
Описанный опыт был полезен для нас — помимо создания инструмента, который упрощает процесс разработки, нами были получены по-настоящему хардкорные знания о работе языка. Приоткрытый ящик Пандоры с низкоуровневыми процессами позволяет посмотреть на ежедневные задачи под новым углом.<br/>
<br/>
Надеемся, что полученные знания также обогатят и ваше понимание разработки!<br/>
<br/>
Материал подготовлен в соавторстве с <a href="https://habr.com/ru/users/victoriaqb/">@victoriaqb</a> — Викторией Кашлиной, iOS-разработчиком.<br/>
<br/>
<h2>Источники</h2><br/>
<ol>
<li><a href="https://habr.com/ru/company/e-Legion/blog/438664/">Устройство компилятора Swift. Часть 2</a> <br/>
</li>
<li><a href="https://www.polidea.com/blog/how-to-build-swift-compiler-based-tool-the-step-by-step-guide">How to Build Swift Compiler-Based Tool? The Step-by-Step Guide </a><br/>
</li>
<li><a href="https://blog.digitalrickshaw-dev.com/2016/03/04/dumping-the-swift-ast-for-an-ios-project.html">Dumping the Swift AST for an iOS Project</a> <br/>
</li>
<li><a href="https://swift.org/blog/sourcekitd-stress-tester/">Introducing the sourcekitd Stress Tester</a><br/>
</li>
<li><a href="https://github.com/apple/swift/blob/master/docs/Testing.md">Testing Swift</a> <br/>
</li>
<li><a href="https://github.com/apple/swift/pull/24566/files">[SR-5744] Refactoring action to convert if-let to guard-let and vice versa #24566</a><br/>
</li>
</ol></div></div></div> <!----> <!----></div> <!----> <!----></div> <!----> <div class="tm-article-presenter__meta"><div class="tm-article-presenter__meta-list tm-separated-list"><span class="tm-separated-list__title">Теги:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%A1%D0%B1%D0%B5%D1%80%D0%B1%D0%B0%D0%BD%D0%BA%5D" class="tm-tags-list__link">Сбербанк</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bswift%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0%5D" class="tm-tags-list__link">swift разработка</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bswift%5D" class="tm-tags-list__link">swift</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D1%80%D0%B5%D1%84%D0%B0%D0%BA%D1%82%D0%BE%D1%80%D0%B8%D0%BD%D0%B3%5D" class="tm-tags-list__link">рефакторинг</a></li> <!----></ul></div> <div class="tm-article-presenter__meta-list tm-separated-list"><span class="tm-separated-list__title">Хабы:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/companies/sberbank/articles/" class="tm-hubs-list__link router-link-active">Блог компании Сбер</a></li><li class="tm-separated-list__item"><a href="/ru/hubs/complete_code/" class="tm-hubs-list__link">Совершенный код</a></li><li class="tm-separated-list__item"><a href="/ru/hubs/ios_dev/" class="tm-hubs-list__link">Разработка под iOS</a></li><li class="tm-separated-list__item"><a href="/ru/hubs/refactoring/" class="tm-hubs-list__link">Проектирование и рефакторинг</a></li><li class="tm-separated-list__item"><a href="/ru/hubs/swift/" class="tm-hubs-list__link">Swift</a></li> <!----></ul></div></div> <!----></article></div> <!----></div> <div class="tm-article-sticky-panel"><div class="tm-data-icons tm-article-sticky-panel__icons"><div class="tm-article-rating tm-data-icons__item"><div title="Всего голосов 29: ↑26 и ↓3" class="tm-votes-lever tm-article-rating__votes-switcher tm-votes-lever tm-votes-lever_appearance-article"><button title="Нравится" type="button" class="tm-votes-lever__button"><svg height="24" width="24" class="tm-svg-img tm-votes-lever__icon"><title>Голосование</title> <use xlink:href="/img/megazord-v28.faec9762..svg#counter-vote"></use></svg></button> <div class="tm-votes-lever__score tm-votes-lever__score tm-votes-lever__score_appearance-article"><span><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter tm-votes-lever__score-counter_positive">
          +23
        </span></span></div> <button title="Не нравится" type="button" class="tm-votes-lever__button"><svg height="24" width="24" class="tm-svg-img tm-votes-lever__icon tm-votes-lever__icon_arrow-down"><title>Голосование</title> <use xlink:href="/img/megazord-v28.faec9762..svg#counter-vote"></use></svg></button></div> <DIV class="v-portal" style="display:none;"></DIV> <!----></div> <!----> <!----> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="24" width="24" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v28.faec9762..svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    29
  </span></button> <div title="Поделиться" class="tm-sharing tm-data-icons__item"><button type="button" class="tm-sharing__button"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="tm-sharing__icon"><path fill="currentColor" d="M13.8 13.8V18l7.2-6.6L13.8 5v3.9C5 8.9 3 18.6 3 18.6c2.5-4.4 6-4.8 10.8-4.8z"></path></svg></button> <DIV class="v-portal" style="display:none;"></DIV></div> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/companies/sberbank/articles/460227/comments/" class="tm-article-comments-counter-link__link"><svg height="24" width="24" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v28.faec9762..svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      0
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></div></div>  <div class="tm-article-presenter__footer"><div class="tm-article-blocks"><!----> <section class="tm-block tm-block tm-block_spacing-bottom"><!----> <div class="tm-block__body tm-block__body tm-block__body_variant-balanced"><div class="tm-article-author"><div class="tm-article-author__company"><div class="tm-article-author__company-card"><div class="tm-company-snippet"><a href="/ru/companies/sberbank/profile/" class="tm-company-snippet__logo-link"><div class="tm-entity-image"><img alt height="40" src="//habrastorage.org/getpro/habr/company/9db/3c1/ec0/9db3c1ec02265b8bcbfdfb0d23d8b9f2.jpg" width="40" class="tm-entity-image__pic"></div></a> <div class="tm-company-snippet__info"><a href="/ru/companies/sberbank/profile/" class="tm-company-snippet__title">Сбер</a> <div class="tm-company-snippet__description">Технологии, меняющие мир</div></div></div> <div class="tm-article-author__buttons"><!----> <!----></div></div> <!----> <div class="tm-article-author__separator"></div></div> <div class="tm-user-card tm-article-author__user-card tm-user-card tm-user-card_variant-article"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/regno/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><img alt src="https://assets.habr.com/habr-web/img/avatars/140.png" class="tm-entity-image__pic"></img></div></a> <div class="tm-user-card__meta"><div title=" 7 голосов " class="tm-counter-container tm-karma tm-karma"><div class="tm-counter-container__header"><div class="tm-karma__votes tm-karma__votes_positive">
      7
    </div></div> <div class="tm-counter-container__footer"><div class="tm-karma__text">
      Карма
    </div> <DIV class="v-portal" style="display:none;"></DIV></div></div> <div title="Рейтинг пользователя" class="tm-counter-container"><div class="tm-counter-container__header"> <div class="tm-votes-lever tm-votes-lever tm-votes-lever_appearance-rating"><!----> <div class="tm-votes-lever__score tm-votes-lever__score tm-votes-lever__score_appearance-rating"><span><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter tm-votes-lever__score-counter_rating">
          0
        </span></span></div> <!----></div></div> <div class="tm-counter-container__footer"><span class="tm-rating__text tm-rating__text">
      Рейтинг
    </span></div></div></div></div></div> <div class="tm-user-card__info tm-user-card__info tm-user-card__info_variant-article"><div class="tm-user-card__title tm-user-card__title tm-user-card__title_variant-article"><span class="tm-user-card__name tm-user-card__name tm-user-card__name_variant-article">Антон Власов</span> <a href="/ru/users/regno/" class="tm-user-card__nickname tm-user-card__nickname tm-user-card__nickname_variant-article">
          @regno
        </a> <!----></div> <p class="tm-user-card__short-info tm-user-card__short-info tm-user-card__short-info_variant-article">iOS developer</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons tm-user-card__buttons_variant-article"><!----> <!----> <!----> <!----></div></div> <!----></div></div> <!----></section> <!----> <!----> <div class="tm-article-blocks__comments"><div id="publication-comments" class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a href="/ru/companies/sberbank/articles/460227/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style"><svg height="24" width="24" class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted"><title>Комментарии</title> <use xlink:href="/img/megazord-v28.faec9762..svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментировать 
    </span></a> <!----></div></div></div>  <!----> <div class="placeholder-wrapper"><!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <div class="tm-placeholder-inset tm-placeholder-vacancies"><div class="tm-placeholder-inset__header"><div class="tm-placeholder__line tm-placeholder__line_inset-header loads"></div></div> <div class="tm-placeholder-inset__body"><ul class="tm-placeholder-list"><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder-list__title-container"><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div></div> <div class="tm-project-block-items__properties"><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span></div></li><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder-list__title-container"><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div></div> <div class="tm-project-block-items__properties"><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span></div></li><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder-list__title-container"><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div></div> <div class="tm-project-block-items__properties"><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span></div></li><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder-list__title-container"><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div></div> <div class="tm-project-block-items__properties"><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span></div></li><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder-list__title-container"><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div></div> <div class="tm-project-block-items__properties"><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span></div></li></ul></div> <div class="tm-placeholder-inset__footer"><div class="tm-placeholder__line tm-placeholder__line_inset-footer loads"></div></div></div> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----></div> <!----> </div></div></div></div></div> <div class="tm-page__sidebar"><div class="tm-layout-sidebar"><div class="tm-layout-sidebar__placeholder_initial"></div> <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;"><!----> <section class="tm-block tm-block tm-block_spacing-bottom"><header class="tm-block__header tm-block__header"><div class="tm-block__header-container"><h2 class="tm-block__title tm-block__title">Информация</h2> </div> <!----></header> <div class="tm-block__body tm-block__body"><div class="tm-company-basic-info"><dl class="tm-description-list tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title tm-description-list__title_variant-columns-nowrap">Сайт</dt> <dd class="tm-description-list__body tm-description-list__body tm-description-list__body_variant-columns-nowrap"><a href="http://www.sber.ru/" target="_blank" class="tm-company-basic-info__link">
      www.sber.ru
    </a></dd></dl> <dl class="tm-description-list tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title tm-description-list__title_variant-columns-nowrap">Дата регистрации</dt> <dd class="tm-description-list__body tm-description-list__body tm-description-list__body_variant-columns-nowrap"><time datetime="2011-02-08T10:09:33.000Z" title="2011-02-08, 13:09">8  февраля  2011</time></dd></dl> <dl class="tm-description-list tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title tm-description-list__title_variant-columns-nowrap">Дата основания</dt> <dd class="tm-description-list__body tm-description-list__body tm-description-list__body_variant-columns-nowrap"><time datetime="1841-11-11T21:29:43.000Z" title="1841-11-12, 00:00">12  ноября  1841</time></dd></dl> <dl class="tm-description-list tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title tm-description-list__title_variant-columns-nowrap">Численность</dt> <dd class="tm-description-list__body tm-description-list__body tm-description-list__body_variant-columns-nowrap">
    свыше 10 000 человек
  </dd></dl> <dl class="tm-description-list tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title tm-description-list__title_variant-columns-nowrap">Местоположение</dt> <dd class="tm-description-list__body tm-description-list__body tm-description-list__body_variant-columns-nowrap">
    Россия
  </dd></dl> <!----></div></div> <!----></section> <div class="tm-company-widgets"></div> <!----> <!----> <!----></div></div></div></div></div></div></main> <!----></div> <div class="tm-footer-menu"><div class="tm-page-width"><div class="tm-footer-menu__container"><div class="tm-footer-menu__block"><p class="tm-footer-menu__block-title">
          Ваш аккаунт
        </p> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/companies/sberbank/articles/460227/&amp;hl=ru" rel="nofollow" target="_self">
                Войти
              </a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/companies/sberbank/articles/460227/&amp;hl=ru" rel="nofollow" target="_self">
                Регистрация
              </a></li></ul></div></div><div class="tm-footer-menu__block"><p class="tm-footer-menu__block-title">
          Разделы
        </p> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/articles/" class="footer-menu__item-link">
                Статьи
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">
                Новости
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">
                Хабы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link router-link-active">
                Компании
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">
                Авторы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">
                Песочница
              </a></li></ul></div></div><div class="tm-footer-menu__block"><p class="tm-footer-menu__block-title">
          Информация
        </p> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">
                Устройство сайта
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">
                Для авторов
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">
                Для компаний
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">
                Документы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement/?hl=ru_RU" target="_blank">
                Соглашение
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/?hl=ru_RU" target="_blank">
                Конфиденциальность
              </a></li></ul></div></div><div class="tm-footer-menu__block"><p class="tm-footer-menu__block-title">
          Услуги
        </p> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="https://company.habr.com/ru/corporate-blogs/" target="_blank">
                Корпоративный блог
              </a></li><li class="tm-footer-menu__list-item"><a href="https://company.habr.com/ru/advertising/" target="_blank">
                Медийная реклама
              </a></li><li class="tm-footer-menu__list-item"><a href="https://company.habr.com/ru/native-special/" target="_blank">
                Нативные проекты
              </a></li><li class="tm-footer-menu__list-item"><a href="https://company.habr.com/ru/education-programs/" target="_blank">
                Образовательные программы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://company.habr.com/ru/hello-startup/" target="_blank">
                Стартапам
              </a></li></ul></div></div></div></div></div> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><!----> <div class="tm-footer__social"><a href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="24" width="24" class="tm-svg-img tm-svg-icon"><title>Facebook</title> <use xlink:href="/img/new-social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="24" width="24" class="tm-svg-img tm-svg-icon"><title>Twitter</title> <use xlink:href="/img/new-social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="24" width="24" class="tm-svg-img tm-svg-icon"><title>VK</title> <use xlink:href="/img/new-social-icons-sprite.svg#social-logo-vk"></use></svg></a><a href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="24" width="24" class="tm-svg-img tm-svg-icon"><title>Telegram</title> <use xlink:href="/img/new-social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="24" width="24" class="tm-svg-img tm-svg-icon"><title>Youtube</title> <use xlink:href="/img/new-social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a href="https://dzen.ru/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="24" width="24" class="tm-svg-img tm-svg-icon"><title>Яндекс Дзен</title> <use xlink:href="/img/new-social-icons-sprite.svg#social-logo-dzen"></use></svg></a></div> <DIV class="v-portal" style="display:none;"></DIV> <button class="tm-footer__link"><!---->
        Настройка языка
      </button> <a href="/ru/feedback/" class="tm-footer__link">
        Техническая поддержка
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2024, </span> <span class="tm-copyright__name"><a href="https://company.habr.com/" rel="noopener" target="_blank" class="tm-copyright__link">Habr</a></span></span></div></div></div></div> <!----></div> <div class="vue-portal-target"></div></div>
<script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"460227":{"id":"460227","timePublished":"2019-07-17T06:38:48+00:00","isCorporative":true,"lang":"ru","titleHtml":"Custom refactoring tool: Swift","leadData":{"textHtml":"Любой инженер стремится сделать процесс своей работы максимально оптимизированным. Нам, как мобильным разработчикам iOS, очень часто приходится работать с однообразными структурами языка. Компания Apple улучшает инструменты разработчиков, прилагая много усилий, чтобы нам было удобно программировать: подсветка языка, автодополнение методов и многие другие возможности IDE позволяют нашим пальцам успевать за идеями в голове.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F4b6\u002F69d\u002Fe24\u002F4b669de249e57f8f8d7ad2da21df22a3.png\"\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nЧто делает инженер, когда необходимый инструмент отсутствует? Верно, сделает всё сам! Ранее мы уже \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fsberbank\u002Fblog\u002F447594\u002F\"\u003Eрассказывали\u003C\u002Fa\u003E о создании своих кастомных инструментов, теперь поговорим о том, как модифицировать Xcode и заставить его работать по твоим правилам.\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше →","image":null},"editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"729209","alias":"regno","fullname":"Антон Власов","avatarUrl":null,"speciality":"iOS developer","scoreStats":{"score":7,"votesCount":7},"rating":0,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"donationsMethod":null},"statistics":{"commentsCount":0,"favoritesCount":29,"readingCount":7178,"score":23,"votesCount":29,"votesCountPlus":26,"votesCountMinus":3},"hubs":[{"id":"17155","alias":"sberbank","type":"corporative","title":"Блог компании Сбер","titleHtml":"Блог компании Сбер","isProfiled":false,"relatedData":null},{"id":"524","alias":"complete_code","type":"collective","title":"Совершенный код","titleHtml":"Совершенный код","isProfiled":true,"relatedData":null},{"id":"548","alias":"ios_dev","type":"collective","title":"Разработка под iOS","titleHtml":"Разработка под iOS","isProfiled":true,"relatedData":null},{"id":"7504","alias":"refactoring","type":"collective","title":"Проектирование и рефакторинг","titleHtml":"Проектирование и рефакторинг","isProfiled":true,"relatedData":null},{"id":"19039","alias":"swift","type":"collective","title":"Swift","titleHtml":"Swift","isProfiled":true,"relatedData":null}],"flows":[{"id":"1","alias":"develop","title":"Разработка","titleHtml":"Разработка"}],"relatedData":null,"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EЛюбой инженер стремится сделать процесс своей работы максимально оптимизированным. Нам, как мобильным разработчикам iOS, очень часто приходится работать с однообразными структурами языка. Компания Apple улучшает инструменты разработчиков, прилагая много усилий, чтобы нам было удобно программировать: подсветка языка, автодополнение методов и многие другие возможности IDE позволяют нашим пальцам успевать за идеями в голове.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F4b6\u002F69d\u002Fe24\u002F4b669de249e57f8f8d7ad2da21df22a3.png\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F4b6\u002F69d\u002Fe24\u002F4b669de249e57f8f8d7ad2da21df22a3.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЧто делает инженер, когда необходимый инструмент отсутствует? Верно, сделает всё сам! Ранее мы уже \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fsberbank\u002Fblog\u002F447594\u002F\"\u003Eрассказывали\u003C\u002Fa\u003E о создании своих кастомных инструментов, теперь поговорим о том, как модифицировать Xcode и заставить его работать по твоим правилам.\u003Cbr\u002F\u003E\r\n\u003Ca name=\"habracut\"\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\nМы взяли таску из \u003Ca href=\"https:\u002F\u002Fbugs.swift.org\u002Fbrowse\u002FSR-5744\"\u003EJIRA Swift\u003C\u002Fa\u003E‘а и сделали инструмент, преобразующий \u003Cb\u003Eif let\u003C\u002Fb\u003E в эквивалентную конструкцию \u003Cb\u003Eguard let\u003C\u002Fb\u003E.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002Fd68\u002F6b7\u002Fad5\u002Fd686b7ad5d24b87b61df2bb6d87299eb.gif\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002Fd68\u002F6b7\u002Fad5\u002Fd686b7ad5d24b87b61df2bb6d87299eb.gif\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nС девятой версии Xcode предоставляет новый механизм рефакторинга, который может преобразовывать код локально, в пределах одного исходного файла Swift, или глобально, когда вы переименовываете метод или свойство, которые встречаются в нескольких файлах, даже если они на разных языках. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЛокальный рефакторинг полностью реализован в компиляторе и фреймворке SourceKit, фича находится в опенсорсном репозитории Swift'а и написана на С++. Модификация глобального рефакторинга в настоящее время является недоступной для обывателей, потому что кодовая база Xcode закрыта. Поэтому остановимся на локальной истории и расскажем о том, как повторить наш опыт.  \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЧто потребуется для создания своего инструмента для локального рефакторинга:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EПонимание С++\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003EБазовые знания работы компилятора\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003EПонимание, что такое AST и как с ним работать\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003EИсходный код \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fapple\u002Fswift\"\u003ESwift\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003EГайд \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fapple\u002Fswift\u002Fblob\u002Fmaster\u002Fdocs\u002Frefactoring\u002FSwiftLocalRefactoring.md\"\u003Eswift\u002Fdocs\u002Frefactoring\u002FSwiftLocalRefactoring.md\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003EМного терпения\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003E\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EНемного об AST\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nНемного теоретических азов до того, как погружаться в практику. Давайте посмотрим на работу архитектуры компилятора Swift. В первую очередь компилятор отвечает за трансформацию кода в исполняемый машинный код. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F00b\u002F9e7\u002Ff23\u002F00b9e7f23d9d1c1b3e02d14905179ef2.png\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F00b\u002F9e7\u002Ff23\u002F00b9e7f23d9d1c1b3e02d14905179ef2.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИз представленных этапов трансформации наиболее интересным для нас является генерация абстрактного синтаксического дерева (AST) — графа, в котором вершинами являются операторы, а листьями — их операнды. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F350\u002F269\u002F29f\u002F35026929fee03914b2689ee5b20fa6f8.png\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F350\u002F269\u002F29f\u002F35026929fee03914b2689ee5b20fa6f8.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nСинтаксические деревья используются в парсере. AST используется в качестве внутреннего представления в компиляторе\u002Fинтерпретаторе компьютерной программы для оптимизации и генерации кода. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПосле генерации AST выполняется синтаксический анализ для создания AST с проверкой типа, который был переведен на язык промежуточного языка Swift (Swift Intermediate Language). SIL преобразуется, оптимизируется, понижается до LLVM IR, который в конечном итоге компилируется в машинный код.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЧтобы создать инструмент рефакторинга, нам нужно понимать AST и уметь работать с ним. Так инструмент сможет корректно оперировать частями кода, который мы хотим обработать.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЧтобы сгенерировать AST какого-либо файла, запустите команду: swiftc -dump-ast \u003Ci\u003EMyFile.swift \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНиже представлен \u003Ca href=\"https:\u002F\u002Fbugs.swift.org\u002Fbrowse\u002FSR-5744\"\u003Eвывод в консоль\u003C\u002Fa\u003E AST функции \u003Cb\u003Eif let\u003C\u002Fb\u003E, о которой говорилось ранее. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F901\u002F276\u002F7b6\u002F9012767b6955ddd58dfc221181e8a70b.png\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F901\u002F276\u002F7b6\u002F9012767b6955ddd58dfc221181e8a70b.png\"\u002F\u003E\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ Swift AST существует три основных типа узлов: \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003Eобъявления (подклассы типа Decl), \u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003Eвыражения (подклассы типа Expr), \u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003Eоператоры (подклассы типа Stmt). \u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u002F\u003E\r\nОни соответствуют трем сущностям, которые используются в самом языке Swift. Имена функций, структур, параметров — это объявления. Выражения — это сущности, возвращающие значение; например, вызов функций. Операторы являются частями языка, которые определяют поток управления исполнения кода, но не возвращают значение (например, if или do-catch).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЭто достаточный минимум, который вам нужно знать про AST для предстоящей работы.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EКак работает инструмент рефакторинга в теории\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nЧтобы реализовать рефакторинг-тулзу, вам потребуется специфическая информация о той области кода, которую вы собираетесь менять. Разработчикам предоставляются вспомогательные сущности, аккумулирующие данные. Первая — ResolvedCursorInfo (рефакторинг на основе курсора) — сообщит о том, находимся ли мы в начале выражения. Если да, то возвращается соответствующий объект компилятора этого выражения. Вторая сущность — RangeInfo (рефакторинг на основе диапазона) — инкапсулирует данные об исходном диапазоне (например, сколько у него точек входа и выхода).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nРефакторинг на основе курсора инициируется расположением курсора в исходном файле. Действия рефакторинга реализуют методы, которые механизм рефакторинга использует для отображения доступных действий в среде IDE и для выполнения преобразований. Примеры действий на основе курсора: Jump to definition, quick help и др.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fpost_images\u002Ffce\u002F30f\u002Fc9d\u002Ffce30fc9de1ab5b473ff9ac14795c462.png\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002Ffce\u002F30f\u002Fc9d\u002Ffce30fc9de1ab5b473ff9ac14795c462.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nРассмотрим привычные действия с технической стороны: \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EКогда вы выбираете местоположение из редактора Xcode, выполняется запрос к \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fapple\u002Fswift\u002Ftree\u002Fmaster\u002Ftools\u002FSourceKit\u002Ftools\u002Fsourcekitd\"\u003Esourcekitd\u003C\u002Fa\u003E (фреймворк, ответственный за подсветку, автодополнение кода и др.), чтобы отобразить доступные действия по рефакторингу. \u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003EКаждое доступное действие запрашивается объектом ResolvedCursorInfo, чтобы проверить, применимо ли это действие к выбранному коду.\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003EСписок применимых действий возвращается как ответ от sourcekitd и отображается в Xcode.\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003EЗатем Xcode применяет правки инструмента рефакторинга.\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003E\u003Cbr\u002F\u003E\r\nРефакторинг на основе диапазона инициируется выбором непрерывного диапазона кода в исходном файле.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F670\u002F987\u002Ff65\u002F670987f65cedaec71b072c3d2c721315.png\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F670\u002F987\u002Ff65\u002F670987f65cedaec71b072c3d2c721315.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ данном случае инструмент рефакторинга пройдет аналогичную описанной цепочку вызовов. Отличием будет то, что при реализации входом является RangeInfo вместо ResolvedCursorInfo. Заинтересованные читатели могут обратиться к \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fapple\u002Fswift\u002Fblob\u002F69deb2777358380000e9ee369b021374bb3bbef6\u002Flib\u002FIDE\u002FRefactoring.cpp\"\u003ERefactoring.cpp\u003C\u002Fa\u003E для более подробной информации о примерах реализации инструментов компанией Apple.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nА теперь к практике создания инструмента.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EПодготовка\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nВ первую очередь необходимо скачать и собрать компилятор Swift. Подробная инструкция есть в официальном репозитории (\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fapple\u002Fswift\u002Fblob\u002Fmaster\u002FREADME.md\"\u003Ereadme.md\u003C\u002Fa\u003E). Приведем ключевые команды для клонирования кода:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"swift\"\u003Emkdir swift-source\ncd swift-source\ngit clone https:\u002F\u002Fgithub.com\u002Fapple\u002Fswift.git\n.\u002Fswift\u002Futils\u002Fupdate-checkout --clone\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nДля описания структуры и зависимостей проекта используется \u003Ca href=\"https:\u002F\u002Fcmake.org\u002Foverview\u002F\"\u003Ecmake\u003C\u002Fa\u003E. С его помощью можно сгенерировать проект для Xcode (удобнее) или под ninja (быстрее) за счет одной из команд:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"swift\"\u003E.\u002Futils\u002Fbuild-script --debug --xcode\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nили\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"swift\"\u003Eswift\u002Futils\u002Fbuild-script --debug-debuginfo\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nДля успешной компиляции требуется последняя версия Xcode beta (10.2.1 на момент написания статьи) — доступно на \u003Ca href=\"https:\u002F\u002Fdeveloper.apple.com\u002Fdownload\u002Fmore\u002F\"\u003Eофициальном сайте Apple\u003C\u002Fa\u003E. Для использования нового Xcode для сборки проекта нужно прописать путь с помощью утилиты xcode-select:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"bash\"\u003Esudo xcode-select -s \u002FUsers\u002Fusername\u002FXcode.app\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nЕсли мы использовали флаг --xcode для сборки проекта под Xcode соответственно, то по прошествии нескольких часов компиляции (у нас вышло чуть более двух) в папке build мы обнаружим файл Swift.xcodeproj. Открыв проект, мы увидим привычный Xcode с индексацией, брейкпоинтами.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДля создания нового инструмента нам потребуется добавить код с логикой инструмента в файл: lib\u002FIDE\u002FRefactoring.cpp и определить два метода isApplicable и performChange. В первом методе мы решаем, нужно ли выводить опцию рефакторинга для выделенного кода. А во втором — как преобразовать выделенный код, чтобы применить рефакторинг. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПосле проделанной подготовки остается реализовать следующие шаги:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EРазработать логику инструмента (разработку можно вести несколькими путями — через toolchain, через Ninja, через Xcode; обо всех вариантах будет рассказано ниже)\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003EРеализовать два метода: isApplicable и performChange (они ответственны за доступ к инструменту и его работу)\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003EДиагностировать и протестировать готовый инструмент перед отправкой PR'а в официальный репозиторий Swift'а.\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003E\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EПроверка работы инструмента через toolchain\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nТакой способ разработки заберет у вас много времени из-за долгой сборки компонентов, но зато результат виден сразу в Xcode — путь ручной проверки.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДля начала соберем toolchain Swift с помощью команды:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"plaintext\"\u003E.\u002Futils\u002Fbuild-toolchain some_bundle_id\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nКомпиляция toolchain займет еще больше времени чем сборка компилятора и зависимостей. На выходе получаем файл swift-LOCAL-yyyy-mm-dd.xctoolchain в папке swift-nightly-install, который нужно перенести в Xcode: \u002FLibrary\u002FDeveloper\u002FToolchains\u002F. Далее в настройках IDE выбираем новый toolchain, перезапускаем Xcode. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fpost_images\u002Fb67\u002F402\u002Fead\u002Fb67402ead1fd1e4470886c8a8ad2f3c2.png\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002Fb67\u002F402\u002Fead\u002Fb67402ead1fd1e4470886c8a8ad2f3c2.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВыделяем кусок кода, который должен обработать инструмент, и ищем инструмент в контекстном меню.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EРазработка через тесты с Ninja\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nЕсли проект был собран под Ninja и вы выбрали путь TDD, то разработка через тесты с Ninja — один из вариантов, который вам подойдет. Минусы — нельзя ставить брейкпоинты, как в разработке через Xcode. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИтак, нам надо проверить, что новый инструмент отображается в Xcode, когда пользователь выделил конструкцию guard в исходном коде. Пишем тест в существующий файл test\u002Frefactoring\u002FRefactoringKind\u002Fbasic.swift:\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"swift\"\u003Efunc testConvertToGuardExpr(idxOpt: Int?) {\n    if let idx = idxOpt {\n        print(idx)\n    }\n}\n\u002F\u002FДекларативно определяем условия теста и ожидания.\n\u002F\u002F RUN: %refactor -source-filename %s -pos=266:3 -end-pos=268:4 | %FileCheck %s -check-prefix=CHECK-CONVERT-TO-GUARD-EXPRESSION\n\u002F\u002F CHECK-CONVERT-TO-GUARD-EXPRESSION: Convert To Guard Expression\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nМы указываем, что при выделении кода между 266 строкой 3 колонки и 268 строкой 4 колонки мы ожидаем появления пункта меню с новым инструментом.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИспользование скрипта \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fapple\u002Fswift\u002Fblob\u002F6fc4cef671947d1d2482951853f7f82854473d91\u002Ftest\u002Fswift_test.py\"\u003Elit.py\u003C\u002Fa\u003E может обеспечить более быструю обратную связь с вашим циклом разработки. Можно указывать интересующий test suit. В нашем случае этим сьютом будет RefactoringKind:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E.\u002Fllvm\u002Futils\u002Flit\u002Flit.py -sv .\u002Fbuild\u002FNinja-RelWithDebInfoAssert\u002Fswift-macosx-x86_64\u002Ftest-macosx-x86_64\u002Frefactoring\u002FRefactoringKind\u002F\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\nВ итоге запустятся тесты только этого файла. Их выполнение займет пару десятков секунд. Подробнее о lit.py будет сказано ниже в блоке «Диагностика и тестирование».\u003Cbr\u002F\u003E\r\nТест не пройдет, что нормально для парадигмы TDD. Ведь пока что мы не написали ни строчки кода с логикой работы инструмента. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EРазработка через отладку и Xcode\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nИ, наконец, последний метод разработки, когда проект был собран под Xcode. Основной плюс — возможность поставить брейкпоинты и контролировать отладку.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПри сборке проекта под Xcode в папке build\u002FXcode-DebugAssert\u002Fswift-macosx-x86_64\u002F создается файл Swift.xcodeproj. При первом открытии данного файла лучше выбрать создание схем вручную, чтобы самостоятельно сгенерировать ALL_BUILD и swift-refactor:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fpost_images\u002Ff7d\u002F7cb\u002F458\u002Ff7d7cb4587c345d03bc77fc62cd615a9.png\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002Ff7d\u002F7cb\u002F458\u002Ff7d7cb4587c345d03bc77fc62cd615a9.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДалее собираем проект с ALL_BUILD один раз, после этого используем схему swift-refactor.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nRefactoring tool компилируется в отдельный исполняемый файл — swift-refactor. Справку о данном файле можно вывести с помощью флага –help. Самые интересные для нас параметры — это: \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"swift\"\u003E-source-filename=&lt;string\u003E \u002F\u002F Исходный файл\n\n-pos=&lt;string\u003E \u002F\u002F Начальная позиция\t\n\n-end-pos=&lt;string\u003E \u002F\u002F Конечная позиция\t\n\n-kind \u002F\u002F Тип рефакторинга\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nИх можно задать в схеме в качестве аргументов. Теперь можно ставить брейкпоинты, чтобы остановиться в интересующих местах при запуске инструмента. Привычным способом с помощью команд \u003Ci\u003Ep\u003C\u002Fi\u003E и \u003Ci\u003Epo\u003C\u002Fi\u003E в консоли XCode выведет значения соответствующих переменных.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F329\u002F254\u002F23c\u002F32925423cba91d5951178b9be63a70d5.png\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F329\u002F254\u002F23c\u002F32925423cba91d5951178b9be63a70d5.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EРеализация isApplicable\u003C\u002Fh2\u003E \u003Cbr\u002F\u003E\r\nМетод isApplicable принимает на входе ResolvedRangeInfo с информацией об узлах AST выделенного фрагмента кода. На выходе метода решается, показывать инструмент или нет в контекстном меню Xcode. Полный интерфейс ResolvedRangeInfo можно посмотреть в файле \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fapple\u002Fswift\u002Fblob\u002Fmaster\u002Finclude\u002Fswift\u002FIDE\u002FUtils.h\"\u003Einclude\u002Fswift\u002FIDE\u002FUtils.h\u003C\u002Fa\u003E.  \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nРассмотрим наиболее полезные в нашем случае поля класса ResolvedRangeInfo:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003ERangeKind — первым делом стоит проверить тип выделенной области. Если область невалидна (Invalid), можно вернуть false. Если тип нам подходит, например, SingleStatement или MultiStatement, то идем дальше;\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EContainedNodes — массив AST элементов, которые входят в выделенный диапазон. Мы хотим убедиться, что пользователь выделил диапазон, в который входит конструкция if let. Для этого берем первый элемент массива и проверяем, что этот элемент соответствует IfStmt (класс, определяющий AST ноду statement подтипа if). Далее смотрим condition. Чтобы упростить реализацию, будем выводить инструмент только для выражений с одним условием. По типу условия (CK_PatternBinding) определяем, что это let. \u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fpost_images\u002Fe7f\u002Fba1\u002Fe70\u002Fe7fba1e70c05ada9602ba90164c67db8.png\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002Fe7f\u002Fba1\u002Fe70\u002Fe7fba1e70c05ada9602ba90164c67db8.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЧтобы протестировать isApplicable, добавим пример кода в файл \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fapple\u002Fswift\u002Fblob\u002Fmaster\u002Ftest\u002Frefactoring\u002FRefactoringKind\u002Fbasic.swift\"\u003Etest\u002Frefactoring\u002FRefactoringKind\u002Fbasic.swift\u003C\u002Fa\u003E. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F0a1\u002F663\u002F046\u002F0a1663046435877088f58d14329123f5.png\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F0a1\u002F663\u002F046\u002F0a1663046435877088f58d14329123f5.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЧтобы тест мог имитировать вызов нашего инструмента, необходимо добавить строку в файле \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fapple\u002Fswift\u002Fblob\u002Fmaster\u002Ftools\u002Fswift-refactor\u002Fswift-refactor.cpp\"\u003Etools\u002Fswift-refactor\u002Fswift-refactor.cpp\u003C\u002Fa\u003E.\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fapple\u002Fswift\u002Fblob\u002Fmaster\u002Ftools\u002Fswift-refactor\u002Fswift-refactor.cpp\"\u003E \u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fpost_images\u002Fa38\u002F3a9\u002Fb3d\u002Fa383a9b3d80613dda377d5cd7f43411c.png\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002Fa38\u002F3a9\u002Fb3d\u002Fa383a9b3d80613dda377d5cd7f43411c.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EРеализуем performChange\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nДанный метод вызывается при выборе инструмента рефакторинга в контекстном меню. В методе есть доступ к ResolvedRangeInfo, как и в isApplicable. Используем ResolvedRangeInfo и пишем логику инструмента по преобразованию кода.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПри формировании кода для статических токенов (регламентируемых синтаксисом языка) можно использовать сущности из неймспейса tok. Например, для ключевого слова guard  используем tok::kw_guard. Для динамических токенов (изменяемых разработчиком, например, наименование функции) нужно выделить их из массива AST элементов.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЧтобы определить место вставки преобразованного кода, используем полный выделенный диапазон с помощью конструкции RangeInfo.ContentRange.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F893\u002Fd2b\u002Fc31\u002F893d2bc311ceba6313fad5d474f6ea2e.png\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F893\u002Fd2b\u002Fc31\u002F893d2bc311ceba6313fad5d474f6ea2e.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EДиагностика и тестирование\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nПрежде чем закончить работу над инструментом, необходимо проверить корректность его работы еще раз. В этом нам снова помогут тесты. Тесты можно запускать по одному либо всем имеющимся скоупом. Самый простой способ запустить весь набор тестов Swift — команда --test на utils \u002F build-script, который запустит основной набор тестов. Использование utils \u002F build-script пересоберёт все таргеты, что может существенно увеличить время цикла отладки.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nОбязательно прогоните проверочные тесты utils \u002F build-script --validation-test перед внесением больших изменений в компилятор или API.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЕсть другой способ запустить все модульные тесты компилятора — через ninja, ninja check-swift из build\u002Fpreset\u002Fswift-macosx-x86_64. Это займёт около 15 минут.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИ, наконец, вариант, когда вам нужно запустить тесты по отдельности. Чтобы напрямую вызвать сценарий lit.py от LLVM, его необходимо настроить для использования локального каталога сборки. Например:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"swift\"\u003E% $ {LLVM_SOURCE_ROOT} \u002Futils\u002Flit\u002Flit.py -sv $ {SWIFT_BUILD_DIR} \u002F test-macosx-x86_64 \u002F Parse \u002F\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nЭто запустит тесты в каталоге 'test \u002F Parse \u002F' для 64-битных macOS. Опция -sv предоставляет индикатор выполнения тестов и показывает результаты лишь неудачных тестов.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nУ lit.py есть ещё несколько полезных функций, например, timing-тесты и тестирование времени ожидания. Посмотреть эти и другие функции можно с помощью lit.py -h. Наиболее полезные можно найти \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fapple\u002Fswift\u002Fblob\u002Fmaster\u002Fdocs\u002FTesting.md\"\u003Eздесь\u003C\u002Fa\u003E. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДля запуска одного теста пропишем:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"swift\"\u003E .\u002Fllvm\u002Futils\u002Flit\u002Flit.py -sv .\u002Fbuild\u002FNinja-RelWithDebInfoAssert\u002Fswift-macosx-x86_64\u002Ftest-macosx-x86_64\u002Frefactoring\u002FRefactoringKind\u002Fbasic.swift \u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nЕсли нам нужно подтянуть свежие изменения компилятора, то нужно обновить все зависимости и сделать rebase. Для обновления запустить .\u002Futils\u002Fupdate-checkout.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EВыводы\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nНам удалось достичь поставленной цели — сделать инструмент, которого раньше не было в IDE для оптимизации работы. Если у вас тоже есть идеи того, как можно улучшить продукты Apple и облегчить жизнь всему iOS-сообществу, смело беритесь за контрибьютинг, ведь это проще, чем кажется на первый взгляд! \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ 2015 году Apple выложила исходные коды Swift в открытый доступ, что дало возможность погрузиться в детали реализации его компилятора. Кроме того, с Xcode 9 можно добавлять локальные инструменты рефакторинга. Достаточно базовых знаний C++ и устройства компилятора, чтобы сделать любимый IDE немного удобнее. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nОписанный опыт был полезен для нас — помимо создания инструмента, который упрощает процесс разработки, нами были получены по-настоящему хардкорные знания о работе языка. Приоткрытый ящик Пандоры с низкоуровневыми процессами позволяет посмотреть на ежедневные задачи под новым углом.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНадеемся, что полученные знания также обогатят и ваше понимание разработки!\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nМатериал подготовлен в соавторстве с \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fusers\u002Fvictoriaqb\u002F\"\u003E@victoriaqb\u003C\u002Fa\u003E — Викторией Кашлиной, iOS-разработчиком.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EИсточники\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fe-Legion\u002Fblog\u002F438664\u002F\"\u003EУстройство компилятора Swift. Часть 2\u003C\u002Fa\u003E \u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fwww.polidea.com\u002Fblog\u002Fhow-to-build-swift-compiler-based-tool-the-step-by-step-guide\"\u003EHow to Build Swift Compiler-Based Tool? The Step-by-Step Guide \u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fblog.digitalrickshaw-dev.com\u002F2016\u002F03\u002F04\u002Fdumping-the-swift-ast-for-an-ios-project.html\"\u003EDumping the Swift AST for an iOS Project\u003C\u002Fa\u003E \u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fswift.org\u002Fblog\u002Fsourcekitd-stress-tester\u002F\"\u003EIntroducing the sourcekitd Stress Tester\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fapple\u002Fswift\u002Fblob\u002Fmaster\u002Fdocs\u002FTesting.md\"\u003ETesting Swift\u003C\u002Fa\u003E \u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fapple\u002Fswift\u002Fpull\u002F24566\u002Ffiles\"\u003E[SR-5744] Refactoring action to convert if-let to guard-let and vice versa #24566\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003E\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"Сбербанк"},{"titleHtml":"swift разработка"},{"titleHtml":"swift"},{"titleHtml":"рефакторинг"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F460227\u002F25a1566325b260e078c21003f2118050\u002F","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F460227\u002F25a1566325b260e078c21003f2118050\u002F?format=vk","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fcompanies\\\u002Fsberbank\\\u002Farticles\\\u002F460227\\\u002F\"},\"headline\":\"Custom refactoring tool: Swift\",\"datePublished\":\"2019-07-17T09:38:48+03:00\",\"dateModified\":\"2019-07-17T13:50:26+03:00\",\"author\":{\"@type\":\"Person\",\"name\":\"Антон Власов\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"Любой инженер стремится сделать процесс своей работы максимально оптимизированным. Нам, как мобильным разработчикам iOS, очень часто приходится работать с однооб...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fcompanies\\\u002Fsberbank\\\u002Farticles\\\u002F460227\\\u002F#post-content-body\",\"about\":[\"c_sberbank\",\"h_complete_code\",\"h_ios_dev\",\"h_refactoring\",\"h_swift\",\"f_develop\"],\"image\":[\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F4b6\\\u002F69d\\\u002Fe24\\\u002F4b669de249e57f8f8d7ad2da21df22a3.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002Fd68\\\u002F6b7\\\u002Fad5\\\u002Fd686b7ad5d24b87b61df2bb6d87299eb.gif\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F00b\\\u002F9e7\\\u002Ff23\\\u002F00b9e7f23d9d1c1b3e02d14905179ef2.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F350\\\u002F269\\\u002F29f\\\u002F35026929fee03914b2689ee5b20fa6f8.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F901\\\u002F276\\\u002F7b6\\\u002F9012767b6955ddd58dfc221181e8a70b.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002Ffce\\\u002F30f\\\u002Fc9d\\\u002Ffce30fc9de1ab5b473ff9ac14795c462.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F670\\\u002F987\\\u002Ff65\\\u002F670987f65cedaec71b072c3d2c721315.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002Fb67\\\u002F402\\\u002Fead\\\u002Fb67402ead1fd1e4470886c8a8ad2f3c2.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002Ff7d\\\u002F7cb\\\u002F458\\\u002Ff7d7cb4587c345d03bc77fc62cd615a9.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F329\\\u002F254\\\u002F23c\\\u002F32925423cba91d5951178b9be63a70d5.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002Fe7f\\\u002Fba1\\\u002Fe70\\\u002Fe7fba1e70c05ada9602ba90164c67db8.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F0a1\\\u002F663\\\u002F046\\\u002F0a1663046435877088f58d14329123f5.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002Fa38\\\u002F3a9\\\u002Fb3d\\\u002Fa383a9b3d80613dda377d5cd7f43411c.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F893\\\u002Fd2b\\\u002Fc31\\\u002F893d2bc311ceba6313fad5d474f6ea2e.png\"]}","metaDescription":"Любой инженер стремится сделать процесс своей работы максимально оптимизированным. Нам, как мобильным разработчикам iOS, очень часто приходится работать с однообразными структурами языка. Компания...","mainImageUrl":null,"amp":false,"customTrackerLinks":[]},"polls":[],"commentsEnabled":{"status":true,"reason":null},"rulesRemindEnabled":false,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"hasPinnedComments":false,"format":null,"banner":null,"multiwidget":null,"readingTime":10,"complexity":null,"isEditorial":false}},"articlesIds":{},"isLoading":false,"pagesCount":{},"route":{},"reasonsList":null,"postReasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"viewedPosts":[],"myFeedFilter":{"complexity":"all","score":"all","types":["articles","posts","news"]},"karma":{"userReasonsList":null}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"career":{"seoLandings":[],"hubs":""},"comments":{"articleComments":{},"articlePinnedComments":{},"searchCommentsResults":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{"sberbank":{"alias":"sberbank","imageUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fcompany\u002F9db\u002F3c1\u002Fec0\u002F9db3c1ec02265b8bcbfdfb0d23d8b9f2.jpg","titleHtml":"Сбер","descriptionHtml":"Технологии, меняющие мир","relatedData":null,"statistics":{"subscribersCount":98161,"rating":403.77,"invest":null,"postsCount":496,"threadsCount":0,"newsCount":51,"vacanciesCount":14,"employeesCount":218,"careerRating":null},"foundationDate":{"year":"1841","month":"11","day":"12"},"location":{"city":{"id":"447159","title":"Москва"},"region":{"id":"1885","title":"Москва и Московская обл."},"country":{"id":"168","title":"Россия"}},"siteUrl":"http:\u002F\u002Fwww.sber.ru\u002F","staffNumber":"свыше 10 000 человек","registrationDate":"2011-02-08T10:09:33+00:00","representativeUser":null,"contacts":[],"settings":{"analyticsSettings":[{"type":"ga","trackingId":"UA-170457662-1"}],"branding":{"imageUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fbranding\u002F98e\u002Fc7c\u002F38f\u002F98ec7c38f77f1e1218096088ab63c2e2.png","linkUrl":null,"pixelUrl":null},"status":"active","isStartup":false,"hasActivePolls":true},"metadata":{"titleHtml":"Сбер, Москва - Технологии, меняющие мир с 12 ноября 1841 г.","title":"Сбер, Москва - Технологии, меняющие мир с 12 ноября 1841 г.","keywords":["Машинное обучение","Искусственный интеллект","Программирование","Анализ и проектирование систем","Natural Language Processing","сбербанк","машинное обучение","искусственный интеллект","platform v","сбертех","ai","java","программирование","ефс","sberai","информационные технологии","open source","big data","devops","разработка","карьера в it-индустрии","робототехника","мобильная разработка","дизайн","тестирование"],"descriptionHtml":"496 статей от авторов компании Сбер","description":"496 статей от авторов компании Сбер"},"aDeskSettings":null,"careerAlias":"sber","schoolAlias":null}},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"multiwidgets":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"multiwidgetLoading":false,"vacancies":{},"companiesGalleries":{},"companiesBanners":{},"companiesLandingVacancies":{},"companiesTechnologies":{},"workplaceInfo":null},"companyAdmin":{"companyInfo":null,"companyInfoLoading":false,"faqArticles":null,"brandingPreviewImageUrl":null,"jivoStatus":0,"adminNotifications":null},"companyAdd":{"currentStep":"","stepsData":{},"uncompletedSteps":[],"isStepLoading":true,"isStepCommitting":false,"isInitialized":false,"agreementContent":""},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"pagesCount":0},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":true},"flows":{"flows":[{"alias":"develop","id":"1","route":{"name":"FLOW_PAGE","params":{"flowName":"develop"}}},{"alias":"admin","id":"6","route":{"name":"FLOW_PAGE","params":{"flowName":"admin"}}},{"alias":"design","id":"2","route":{"name":"FLOW_PAGE","params":{"flowName":"design"}}},{"alias":"management","id":"3","route":{"name":"FLOW_PAGE","params":{"flowName":"management"}}},{"alias":"marketing","id":"4","route":{"name":"FLOW_PAGE","params":{"flowName":"marketing"}}},{"alias":"popsci","id":"7","route":{"name":"FLOW_PAGE","params":{"flowName":"popsci"}}}],"updates":{}},"global":{"isPwa":false,"device":"desktop","isHabrCom":true},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"welcomePage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"query":{},"pathname":"\u002Fru\u002Fcompanies\u002Fsberbank\u002Farticles\u002F460227\u002F","path":"\u002Fru\u002Fcompanies\u002Fsberbank\u002Farticles\u002F460227\u002F","href":"\u002Fru\u002Fcompanies\u002Fsberbank\u002Farticles\u002F460227\u002F"}},"me":{"user":null,"uuid":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null,"userUpdates":{"feeds":{"newPostsCount":null,"newThreadsCount":null,"newNewsCount":null,"newCount":null},"conversationUnreadCount":0}},"modal":{"modals":[]},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{"vacancies":"project-block-company-article"}},"promoData":{"isLoading":false,"hasLoaded":false,"featurer":null,"megaposts":null,"promoLinks":null,"promoPosts":null},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"search":{"searchQueryError":null},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":[],"similarListRefs":null},"ssr":{"error":null,"isDataLoaded":false,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"stories":{"stories":[{"id":"story-703","author":{"logo":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F190\u002Ff72\u002F526\u002F190f72526aab9f12ca8f9c3d969fb787.png","title":"Хабр Новости","link":"https:\u002F\u002Fu.habr.com\u002FiGq2c"},"title":"Бесплатный ИИ-курс","lang":"ru","startTime":"2024-03-04T10:43:00+03:00","finishTime":"2024-03-08T10:43:00+03:00","slides":[{"id":"story-703_1","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F354\u002F8ff\u002Fa21\u002F3548ffa216b96b6b35433a547381d451.jpg","button":{"title":"Подробнее","link":"https:\u002F\u002Fu.habr.com\u002FiGq2c","colorType":"light"}},{"id":"story-703_2","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F634\u002F972\u002F0a6\u002F6349720a6f286aacaea44512b10c352a.jpg","button":{"title":"Читать новость","link":"https:\u002F\u002Fu.habr.com\u002FiGq2c","colorType":"light"}}]},{"id":"story-620","author":{"logo":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fd8f\u002Ffdf\u002F0a5\u002Fd8ffdf0a514940e9ed9d57e5b439cafb.png","title":"Хабр","link":null},"title":"Полезные книги для библиотеки айтишника","lang":"ru","startTime":"2024-03-04T00:47:00+03:00","finishTime":"2024-03-12T23:59:00+03:00","slides":[{"id":"story-620_1","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F3ec\u002F0ec\u002F824\u002F3ec0ec8247b6c8af185bf64c93dfd4d1.jpg","button":null},{"id":"story-620_2","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F172\u002F613\u002F528\u002F1726135286d180c6d5f5b61ddd1e6386.jpg","button":{"title":"Ностальгия","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompanies\u002Fhabr\u002Farticles\u002F521172\u002F","colorType":"dark"}},{"id":"story-620_3","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F563\u002Fb83\u002F473\u002F563b83473264bbddc1605d2c3ebb48cc.jpg","button":{"title":"Учебный план","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Farticles\u002F708752\u002F","colorType":"dark"}},{"id":"story-620_4","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fb4f\u002Fabe\u002F6ac\u002Fb4fabe6acdbd008bb6ffa87078e396d8.jpg","button":{"title":"Мир сетей","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompanies\u002Fskillbox\u002Farticles\u002F751112\u002F","colorType":"light"}},{"id":"story-620_5","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F2b1\u002Fe5b\u002Fd97\u002F2b1e5bd97f424ff094fcd6d6f71b037b.jpg","button":{"title":"Посчитать","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Farticles\u002F753548\u002F","colorType":"light"}},{"id":"story-620_6","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F684\u002F5c4\u002F5d3\u002F6845c45d39380b664a1cb247ddad3dbd.jpg","button":{"title":"Контейнеры","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompanies\u002Fncloudtech\u002Farticles\u002F686942\u002F","colorType":"dark"}},{"id":"story-620_7","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F125\u002F051\u002F0ca\u002F1250510ca5987cde7710f1eefd3d3455.jpg","button":{"title":"Запастись","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompanies\u002Fcloud_mts\u002Farticles\u002F704424\u002F","colorType":"light"}},{"id":"story-620_8","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fe67\u002F95f\u002Fa7f\u002Fe6795fa7fb1acc35c26e940a9a3a1500.jpg","button":{"title":"Три направления","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompanies\u002Fplarium\u002Farticles\u002F435534\u002F","colorType":"dark"}}]},{"id":"story-510","author":{"logo":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F2e8\u002F940\u002Fb09\u002F2e8940b09afc4f34886e7ed0770378ed.png","title":"Хабр IT-гид","link":"https:\u002F\u002Fu.habr.com\u002F83lvb"},"title":"Как новичкам освоиться в IT","lang":"ru","startTime":"2024-03-02T10:00:00+03:00","finishTime":"2024-03-09T18:47:00+03:00","slides":[{"id":"story-510_1","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F01b\u002Fdcd\u002F81d\u002F01bdcd81d712fe9d32aebfa74a166d1b.png","button":null},{"id":"story-510_2","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F61c\u002F76f\u002F1c5\u002F61c76f1c5b36d09f9ce2ffb6b8e771c1.jpg","button":{"title":"Выбрать компанию","link":"https:\u002F\u002Fu.habr.com\u002FYndH4","colorType":"light"}},{"id":"story-510_3","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F855\u002F1ea\u002F29f\u002F8551ea29fee98cea55d939dd334a26e1.jpg","button":{"title":"Превозмогание","link":"https:\u002F\u002Fu.habr.com\u002FoB9OQ","colorType":"light"}},{"id":"story-510_4","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fc68\u002F92b\u002F927\u002Fc6892b92710b96949aaafc313c120f10.jpg","button":{"title":"Статистика и советы","link":"https:\u002F\u002Fu.habr.com\u002FK0NLH","colorType":"light"}},{"id":"story-510_5","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fa7f\u002F8d8\u002F93e\u002Fa7f8d893e12ee3a1e3666121d2a9adec.jpg","button":{"title":"Сравнить","link":"https:\u002F\u002Fu.habr.com\u002FBkp5y","colorType":"light"}},{"id":"story-510_6","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F2c2\u002F02d\u002F384\u002F2c202d384febc2a66697dfa9d67d2c08.jpg","button":{"title":"При чём тут Япония","link":"https:\u002F\u002Fu.habr.com\u002Ftjh7n","colorType":"light"}},{"id":"story-510_7","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F62c\u002Fbe4\u002F22d\u002F62cbe422d44bc721515a9443edc50ab0.jpg","button":{"title":"Мечты vs реальность","link":"https:\u002F\u002Fu.habr.com\u002FLfnj0","colorType":"light"}},{"id":"story-510_8","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fe16\u002Fbf2\u002F07f\u002Fe16bf207fcf5ae3e08272394e56ea1ce.jpg","button":{"title":"Маршрут построен","link":"https:\u002F\u002Fu.habr.com\u002FfAo9O","colorType":"light"}},{"id":"story-510_9","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fd5a\u002F0f5\u002F2b6\u002Fd5a0f52b6486541a51b01e0fc8e899c8.jpg","button":{"title":"Красные цифры","link":"https:\u002F\u002Fu.habr.com\u002FwPS0M","colorType":"light"}}]},{"id":"story-701","author":{"logo":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ff8f\u002F2be\u002F41c\u002Ff8f2be41c3b7052d92049bce9cd562af.png","title":"Хабр","link":null},"title":"Букет котов","lang":"ru","startTime":"2024-02-29T23:13:00+03:00","finishTime":"2024-03-10T23:59:00+03:00","slides":[{"id":"story-701_1","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fa3b\u002F817\u002Fc8e\u002Fa3b817c8ea603fd0a8e9a0016e72fe5a.jpg","button":null},{"id":"story-701_2","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F5f9\u002Fca6\u002F3f1\u002F5f9ca63f1354b32c5b0d5a84be6cd736.jpg","button":{"title":"Падающие коты","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompanies\u002Fbanzai\u002Farticles\u002F488916\u002F","colorType":"light"}},{"id":"story-701_3","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fa5a\u002Feba\u002F7d6\u002Fa5aeba7d6685169548e6dc21de9502c3.jpg","button":{"title":"Древний мир","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Farticles\u002F589947\u002F","colorType":"light"}},{"id":"story-701_4","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F117\u002F265\u002Fbbe\u002F117265bbe2bdc71757c9a5fa80d5c385.jpg","button":{"title":"Начать игру","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompanies\u002Ffirst\u002Farticles\u002F682572\u002F","colorType":"dark"}},{"id":"story-701_5","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fa69\u002Fa00\u002Fb8d\u002Fa69a00b8d15eb79fe62d0a14dfea0298.jpg","button":{"title":"Покормить","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Farticles\u002F747684\u002F","colorType":"light"}},{"id":"story-701_6","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F485\u002F3ab\u002F1c9\u002F4853ab1c97feff2ab9a754573c009297.jpg","button":{"title":"Детали проекта","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Farticles\u002F469893\u002F","colorType":"dark"}},{"id":"story-701_7","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F28b\u002F3ce\u002F9b5\u002F28b3ce9b5f99be08ff4af8eda7e865d0.jpg","button":{"title":"Секрет мурчания","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Fnews\u002F765598\u002F","colorType":"dark"}},{"id":"story-701_8","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F921\u002F098\u002Fe13\u002F921098e1302ce73c80a0f3ae4e4ee9e6.jpg","button":{"title":"Открыть тайну","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Farticles\u002F365075\u002F","colorType":"light"}},{"id":"story-701_9","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fd7c\u002F93f\u002F401\u002Fd7c93f401e792d599d1e7edf92a0051c.jpg","button":{"title":"Красивое","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompanies\u002Fruvds\u002Farticles\u002F751294\u002F","colorType":"dark"}},{"id":"story-701_10","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fa20\u002Ff37\u002Fe8f\u002Fa20f37e8f56fdb7664e0129a2ba8ff56.jpg","button":{"title":"Грозное оружие","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompanies\u002Fruvds\u002Farticles\u002F554270\u002F","colorType":"light"}}]},{"id":"story-699","author":{"logo":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fb9e\u002F614\u002F634\u002Fb9e6146345a27dc25b1fa69df9640684.png","title":"Яндекс 360","link":"https:\u002F\u002Fu.habr.com\u002Fya360_0"},"title":"Яндекс 360 призывает героев бэкенда","lang":"ru","startTime":"2024-02-28T16:27:00+03:00","finishTime":"2024-03-15T11:00:00+03:00","slides":[{"id":"story-699_1","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F8b9\u002F122\u002F20a\u002F8b912220a7ceae24759cb9ecaaa8db23.png","button":null},{"id":"story-699_2","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F595\u002Fc2b\u002F1b3\u002F595c2b1b36ad6c67a1529779b6c19e99.png","button":{"title":"Возглавить команду","link":"https:\u002F\u002Fu.habr.com\u002Fya360_1","colorType":"light"}},{"id":"story-699_3","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F441\u002Fb6a\u002Fe48\u002F441b6ae48b28454584a7c33935f99742.png","button":{"title":"Начать миссию","link":"https:\u002F\u002Fu.habr.com\u002Fya360_1","colorType":"light"}},{"id":"story-699_4","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F0fb\u002F672\u002F359\u002F0fb672359a77d204da048759640d5717.png","button":{"title":"Стану адептом Диска","link":"https:\u002F\u002Fu.habr.com\u002Fya360_2","colorType":"light"}},{"id":"story-699_5","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F2e8\u002F8e8\u002F4fc\u002F2e88e84fc1f0d1566472434373c5e3b0.png","button":{"title":"Погрузиться в задачу","link":"https:\u002F\u002Fu.habr.com\u002Fya360_2","colorType":"light"}},{"id":"story-699_6","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F071\u002Ffb4\u002Fade\u002F071fb4ade90edb95542a8be0e28274df.png","button":{"title":"Защищу мир от спама","link":"https:\u002F\u002Fu.habr.com\u002Fya360_3","colorType":"light"}},{"id":"story-699_7","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F696\u002F745\u002F309\u002F69674530976fefbcbbe695e6c59736d0.png","button":{"title":"Стартовать кампанию","link":"https:\u002F\u002Fu.habr.com\u002Fya360_3","colorType":"light"}},{"id":"story-699_8","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fb09\u002F2a9\u002F0d3\u002Fb092a90d3f99fda41bf4e9594e40cade.png","button":{"title":"Разовью биллинг","link":"https:\u002F\u002Fu.habr.com\u002Fya360_4n","colorType":"light"}},{"id":"story-699_9","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fa9d\u002F922\u002F45f\u002Fa9d92245f16e8d3098f7bee9cdd6527c.png","button":{"title":"Выбрать квест","link":"https:\u002F\u002Fu.habr.com\u002Fya360_4n","colorType":"light"}}]},{"id":"story-697","author":{"logo":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fd1f\u002Fd37\u002F6b6\u002Fd1fd376b6e1c6f97f2e91fcee6ed4186.png","title":"Хабр","link":null},"title":"Годные статьи из блогов компаний","lang":"ru","startTime":"2024-02-26T11:04:00+03:00","finishTime":"2024-03-05T11:04:00+03:00","slides":[{"id":"story-697_1","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fdc0\u002Fa84\u002Fb72\u002Fdc0a84b72b6ad726c130d138586b37fa.jpg","button":null},{"id":"story-697_2","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ff0d\u002Fdc8\u002F38d\u002Ff0ddc838d6617553e5d72d23b19e19aa.jpg","button":{"title":"Особый подход","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompanies\u002Fwiseops\u002Farticles\u002F791774\u002F","colorType":"light"}},{"id":"story-697_3","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F6a2\u002Fc71\u002Fd7e\u002F6a2c71d7e37ec7c7c8dfba1f0e3cfdf2.jpg","button":{"title":"Теория и практика","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompanies\u002Fruvds\u002Farticles\u002F792052\u002F","colorType":"dark"}},{"id":"story-697_4","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fa17\u002F253\u002Fe2c\u002Fa17253e2c2957c1327459d4673e1a250.jpg","button":{"title":"Как оценивали","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompanies\u002Fsberdevices\u002Farticles\u002F790470\u002F","colorType":"light"}},{"id":"story-697_5","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ff8d\u002Fe82\u002Fc6b\u002Ff8de82c6b3919ffdd1023422dfbd7b91.jpg","button":{"title":"Обзор причин","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompanies\u002Fsberbank\u002Farticles\u002F790708\u002F","colorType":"dark"}},{"id":"story-697_6","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F903\u002F357\u002Fb7c\u002F903357b7c104d0dc34c0cd5c364f9c9e.jpg","button":{"title":"От идеи до итога","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompanies\u002Fruvds\u002Farticles\u002F788382\u002F","colorType":"light"}},{"id":"story-697_7","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fe11\u002F9a9\u002F146\u002Fe119a91461855f8745fc17251891be5f.jpg","button":{"title":"Личный опыт","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompanies\u002Fselectel\u002Farticles\u002F791904\u002F","colorType":"light"}},{"id":"story-697_8","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fc95\u002Fe43\u002F331\u002Fc95e433310d55cc50c64f1ef03fb2e18.jpg","button":{"title":"Детали экспермента","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompanies\u002Ftimeweb\u002Farticles\u002F789678\u002F","colorType":"light"}}]},{"id":"story-693","author":{"logo":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F0cf\u002F765\u002F121\u002F0cf76512167ee1882bea64eb2d8f3e7b.png","title":"Хабр","link":"https:\u002F\u002Fu.habr.com\u002Fhabr_events-1"},"title":"Как продвинуть машину времени?","lang":"ru","startTime":"2024-02-20T10:45:00+03:00","finishTime":"2024-03-10T10:45:00+03:00","slides":[{"id":"story-693_1","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fcbd\u002Fc0a\u002Fd0e\u002Fcbdc0ad0e6056f661d1e8fa146c9aa30.png","button":null},{"id":"story-693_2","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F688\u002Fd52\u002Fcc8\u002F688d52cc88ed33a3f4d72d118440c012.png","button":null},{"id":"story-693_3","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F7e0\u002F8a4\u002Fea4\u002F7e08a4ea42768ced281eea267e56c7bb.png","button":null},{"id":"story-693_4","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F9f0\u002F2ae\u002F56c\u002F9f02ae56c1ee55937c0c31afb3743fd4.png","button":{"title":"Добавить событие","link":"https:\u002F\u002Fu.habr.com\u002Fhabr_events-2","colorType":"light"}},{"id":"story-693_5","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fa16\u002F6dc\u002Fc79\u002Fa166dcc79e282edf107842ee8a5d32d0.png","button":null},{"id":"story-693_6","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F987\u002F258\u002F779\u002F987258779f88a78646ef069dad1a4dbb.png","button":{"title":"Хабр Календарь тут","link":"https:\u002F\u002Fu.habr.com\u002Fhabr_events-2","colorType":"light"}}]},{"id":"story-684","author":{"logo":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F921\u002F711\u002F6a7\u002F9217116a7a63fd5722272dcb0784a497.png","title":"Хабр","link":null},"title":"Учим английский","lang":"ru","startTime":"2024-02-05T11:05:00+03:00","finishTime":"2024-03-10T11:05:00+03:00","slides":[{"id":"story-684_1","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F3e7\u002Ff22\u002F9f6\u002F3e7f229f66db5b301ac57509bf8dec1e.png","button":{"title":"Профиль @varagian","link":"https:\u002F\u002Fu.habr.com\u002FphV0O","colorType":"dark"}},{"id":"story-684_2","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F780\u002F841\u002F304\u002F7808413045827f2d4359760e29b1f6c5.jpg","button":{"title":"Слова, слова","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompanies\u002Fepam_systems\u002Farticles\u002F483384\u002F","colorType":"light"}},{"id":"story-684_3","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fa2e\u002F040\u002F42b\u002Fa2e04042b05bc757738d1b39e9a94b45.jpg","button":{"title":"От А0 до С2","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Farticles\u002F711404\u002F","colorType":"dark"}},{"id":"story-684_4","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F469\u002Fef6\u002Fb10\u002F469ef6b104e23e49e6db1b86a54386f6.jpg","button":{"title":"Путь к B2","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Farticles\u002F784376\u002F","colorType":"dark"}},{"id":"story-684_5","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F953\u002F43f\u002F816\u002F95343f81610717241b139f0b38d1c98d.jpg","button":{"title":"От первого лица","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompanies\u002Fit-guide\u002Farticles\u002F785360\u002F","colorType":"light"}},{"id":"story-684_6","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fc05\u002F626\u002F6cc\u002Fc056266ccf35f7eb54ff9cba64485fce.jpg","button":{"title":"Устаревшее","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Farticles\u002F580504\u002F","colorType":"light"}},{"id":"story-684_7","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F2d4\u002Fddb\u002F4e1\u002F2d4ddb4e1f198ff6382d335388497b19.jpg","button":{"title":"Что это за магия","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Farticles\u002F787910\u002F","colorType":"light"}},{"id":"story-684_8","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F1a5\u002Fbd0\u002Fde7\u002F1a5bd0de7a25e08f717b0d26b9830a99.jpg","button":{"title":"Что из чего","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Farticles\u002F43165\u002F","colorType":"light"}},{"id":"story-684_9","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F092\u002F0c0\u002F731\u002F0920c0731e7f3470137547c434d08ac5.jpg","button":{"title":"Методы","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Farticles\u002F710628\u002F","colorType":"light"}}]}]},"technotext":{"years":[],"technotextDocForNominees":null,"technotextDocForWinners":null,"technotextInfo":{},"technotextInfoLoading":false,"technotextWinners":{},"technotextWinnersLoading":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"userVotes":{"karmaVotesList":[],"karmaVotesPagesCount":null,"karmaVotesListLoading":false,"commentsVotesList":[],"commentsVotesPagesCount":null,"commentsVotesListLoading":false,"postsVotesList":[],"postsVotesPagesCount":null,"postsVotesListLoading":false,"userVotesList":[],"userVotesPagesCount":null,"userVotesListLoading":false},"users":{"authorRefs":{},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"userSpecialization":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"notificationsLoading":false,"notificationsList":[],"notificationsPageCount":0,"pendingMarkNotificationsRead":[],"publicationsLoading":true,"publicationsList":[],"publicationsPageCount":0,"pendingDeletePublications":false,"pendingMarkPublicationsRead":false},"events":{"events":[{"id":"events_176","titleHtml":"Серия занятий «Тренировки по алгоритмам 5.0» от Яндекса","descriptionHtml":"\u003Cp\u003EКак решать алгоритмический блок при найме в IT? Разбираемся на тренировках по алгоритмам от Яндекса.\u003C\u002Fp\u003E\u003Cp\u003EЧетыре недели вы решаете задачи, смотрите лекции и разборы. Чем больше решите задач, тем выше подниметесь в рейтинге.&nbsp;\u003C\u002Fp\u003E\u003Cp\u003EЛучшие участники получат персональные тренировки и пройдут пробные алгоритмические собеседования.&nbsp;\u003C\u002Fp\u003E\u003Cp\u003EУспешные собеседования будут засчитаны при отборе на стажировку или в штат Яндекса. Приём заявок до 28 февраля.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fac9\u002F383\u002F51c\u002Fac938351c65f564f8b0bf373c436de53.png","eventUrl":"https:\u002F\u002Fu.habr.com\u002Fcldr_yaalg","startDay":"2024-03-01","startTime":"19:00","finishDay":"2024-04-19","isOnline":true,"geo":[]},{"id":"events_191","titleHtml":"DI CONF SMM — большая конференция по соцсетям в России","descriptionHtml":"\u003Cp\u003EЧто будет с соцсетями в России в 2024 году?\u003C\u002Fp\u003E\u003Cp\u003EВ сегодняшних реалиях они — «лабиринт» смыслов, контента и метрик.\u003C\u002Fp\u003E\u003Cp\u003EКуда двигаться и как с ними работать?&nbsp;\u003C\u002Fp\u003E\u003Cp\u003EРазберём на DI CONF SMM — большой конференции по соцсетям.\u003C\u002Fp\u003E\u003Cp\u003EЧерез «лабиринт» проведут эксперты: Алексей Ткачук, Роман Бордунов(ex-lead smm AVIASALES), команда VK, Дзен и LiveDune, медицинский центр DEGA, «Мармеладыч», подкаст-студия Red Barn, DIDENOK TEAM и другие.&nbsp;\u003C\u002Fp\u003E\u003Cp\u003EГлавные темы:\u003C\u002Fp\u003E\u003Cp\u003E• креатив: хайп и мемы;\u003C\u002Fp\u003E\u003Cp\u003E• экономика ИИ и нейросети;\u003C\u002Fp\u003E\u003Cp\u003E• подкасты для бизнеса;\u003C\u002Fp\u003E\u003Cp\u003E• стратегия в новых реалиях с разбором площадок;\u003C\u002Fp\u003E\u003Cp\u003E• на что ориентироваться в соцсетях в 2024 году;\u003C\u002Fp\u003E\u003Cp\u003E• маркировка и закон о рекламе;\u003C\u002Fp\u003E\u003Cp\u003E• influence-маркетинг;\u003C\u002Fp\u003E\u003Cp\u003E• брендинг и трендвотчинг\u003C\u002Fp\u003E\u003Cp\u003Eи др.&nbsp;\u003C\u002Fp\u003E\u003Cp\u003EЛекции пройдут в двух залах, а ещё будет воркшоп от отделов дизайна и smm di, много нетворкинга и afterparty.\u003C\u002Fp\u003E\u003Cp\u003EВстречаемся 2 марта по адресу: г. Краснодар, ул. Северная, 405, Инновационный Центр «Аквариум», -1 этаж или онлайн.\u003C\u002Fp\u003E\u003Cp\u003EСкидка 30% от 3 билетов, возможность оплаты по р\u002Fс и сервисом «Долями».\u003C\u002Fp\u003E\u003Cp\u003E\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F6df\u002F72d\u002F56c\u002F6df72d56ce1040e73b3646064d61f267.png","eventUrl":"https:\u002F\u002Fclck.ru\u002F396y2A","startDay":"2024-03-02","startTime":"09:30","finishDay":"2024-03-02","finishTime":"18:00","isOnline":true,"geo":["Краснодар"]},{"id":"events_140","titleHtml":"DevOpsConf 2024: конференция для инженеров и всех, кто должен понимать инженеров","descriptionHtml":"\u003Cp\u003E4 и 5 марта состоится DevOpsConf 2024 в Москве.\u003C\u002Fp\u003E\u003Cp\u003EМы готовим самую крупную конференцию для инженеров, CTO, CIO, техлидов и тимлидов в России и СНГ. Более 1000 ваших единомышленников соберутся в Сколково в самом начале весны.\u003C\u002Fp\u003E\u003Cp\u003EC 2009 года конференция значительно выросла, в программе 15-й DevOpsConf: более 80 докладов от ведущих экспертов, 10+ воркшопов, митапы и круглые столы.\u003C\u002Fp\u003E\u003Cp\u003EТемы этого года:\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003Eуправление в DevOps;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Ereliability engineering;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eplatform engineering глазами инженеров из СберМаркет и Яндекс.Go;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eсистемное администрирование;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EIT-безопасность и DevSecOps;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eэксплуатация крупных проектов;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eтехнологическая независимость;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eновые инструменты и технологии.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003EВстречаемся 4 и 5 марта на DevOpsConf 2024 в Сколково.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F2a5\u002Fb6d\u002F6fc\u002F2a5b6d6fc13caf3dabce9c8ab833e282.png","eventUrl":"https:\u002F\u002Fu.habr.com\u002Fcldr_odc","startDay":"2024-03-04","startTime":"10:00","finishDay":"2024-03-05","finishTime":"20:00","isOnline":true,"geo":["Москва"]},{"id":"events_189","titleHtml":"Вебинар «Встраиваемые системы и программирование микроконтроллеров»","descriptionHtml":"\u003Cp\u003EПриглашаем на практический вебинар разработчиков и инженеров, которые интересуются встраиваемыми системами и программированием микроконтроллеров.&nbsp;\u003C\u002Fp\u003E\u003Cp\u003EНа вебинаре мы:\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003Eпроведём обзор различных микроконтроллеров и их характеристик;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eрассмотрим проектирование встраиваемых систем от идеи до реализации;&nbsp;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eразберём на конкретном примере программирование микроконтроллеров;&nbsp;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eсделаем отладку и тестирование встраиваемых систем.&nbsp;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003EУрок пройдёт онлайн в 20:00 по мск. После него у вас будет возможность стать студентом программы по специальной цене и приобрести обучение даже в рассрочку.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F274\u002F868\u002F9b0\u002F2748689b03a269ce21d7913bad0c2920.jpg","eventUrl":"https:\u002F\u002Fu.habr.com\u002Fcldr_otus_mic","startDay":"2024-03-06","startTime":"20:00","finishDay":"2024-03-06","isOnline":true,"geo":[]},{"id":"events_193","titleHtml":"Вебинар «Применение обучения с подкреплением на финансовых рынках»","descriptionHtml":"\u003Cp\u003EОбучение с подкреплением — это метод машинного обучения, который широко используется в сфере трейдинга и финансов.&nbsp;\u003C\u002Fp\u003E\u003Cp\u003EВ OTUS стартует курс «Reinforcement Learning», на котором специалисты смогут освоить RL-алгоритмы на практике и использовать их, в том числе, с целью управления финансовым портфелем.\u003C\u002Fp\u003E\u003Cp\u003E6 марта в 20:00 приглашаем на открытое практическое занятие&nbsp; «Применение обучения с подкреплением на финансовых рынках».\u003C\u002Fp\u003E\u003Cp\u003EВы узнаете:\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003Eкак обучить ИИ предсказывать движения на рынке;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eкак создать модель, которая учится без вашего участия;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eкакие алгоритмы лежат в основе процессов финансовых рынков;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eчто нужно сделать для построения торгового робота;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eкакие алгоритмы необходимы для прогнозирования поведения финансового рынка.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003EПри поступлении на курс возможны разные способы оплаты и рассрочка платежа.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fc09\u002Fb0f\u002F7c0\u002Fc09b0f7c0b7c909a1e36141ac9f38fc1.png","eventUrl":"https:\u002F\u002Fu.habr.com\u002Fcldr_orl","startDay":"2024-03-06","startTime":"20:00","finishDay":"2024-03-06","isOnline":true,"geo":[]},{"id":"events_195","titleHtml":"Вебинар «Методы и принципы разработки ПО для встраиваемых устройств»","descriptionHtml":"\u003Cp\u003EВ OTUS идёт набор в группу курса «Embedded Developer» — быстрый и интересный старт в Embedded с погружением в три самые важные области: программирование микроконтроллеров, проектирование печатных плат, схемотехника.\u003C\u002Fp\u003E\u003Cp\u003E6 марта в 20:00 мск приглашаем на открытый урок курса «Методы и принципы разработки ПО для встраиваемых устройств».\u003C\u002Fp\u003E\u003Cp\u003EНа вебинаре вы:\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003Eузнаете ключевые методы и принципы создания эффективного и надёжного ПО для микроконтроллеров и embedded-устройств;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eрассмотрите проектирование и структурирование кода на основе State-машин и RTOS;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eполучите комплексное понимание построения качественного ПО для встроенных систем.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003EПосле урока можно продолжить обучение по специальной цене и с рассрочкой платежа.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F01f\u002Fc57\u002F832\u002F01fc578328619f3669a6791566394e14.png","eventUrl":"https:\u002F\u002Fu.habr.com\u002Fcldr_oed","startDay":"2024-03-06","startTime":"20:00","finishDay":"2024-03-06","isOnline":true,"geo":[]},{"id":"events_197","titleHtml":"Открытый урок «Пишем онлайн-чат на Golang»","descriptionHtml":"\u003Cp\u003EНапишите онлайн-чат на Golang с нуля за пару часов и добавьте его в портфолио. \u003Cbr\u003E\u003Cbr\u003EНа бесплатном практическом уроке от OTUS вы вместе с опытным экспертом:\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003Eна примере разработки онлайн-чата разберёте преимущества и особенности языка Go;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eпоговорите о клиент-серверной архитектуре интернета;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eпопрактикуетесь в написании веб-приложения на Go;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eпроведёте небольшое нагрузочное тестирование полученной реализации.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003EВстречаемся 12 марта в 20:00 мск в рамках курса «Go Developer Basic». После урока возможно продолжить обучение по специальной цене и с рассрочкой платежа.\u003Cbr\u003E\u003Cbr\u003EРегистрируйтесь прямо сейчас, чтобы посетить бесплатный урок и получить запись.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fcec\u002F374\u002F6fc\u002Fcec3746fc1129aff78a52f8a160051cd.png","eventUrl":"https:\u002F\u002Fu.habr.com\u002Fcldr_ogo","startDay":"2024-03-12","startTime":"20:00","finishDay":"2024-03-12","isOnline":true,"geo":[]},{"id":"events_160","titleHtml":"«GoCloud 2024. Облачные грани будущего» — IT-конференция Cloud.ru про облака","descriptionHtml":"\u003Cp\u003EВместе обсудим IT-тренды, поделимся опытом и найдем инновационные решения для ваших задач.&nbsp;\u003C\u002Fp\u003E\u003Cp\u003EЧто ждет участников:\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E3 тематических трека про новую облачную платформу, прорывные технологии и клиентские инсайты;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E20 сессий с экспертами из мира облачных технологий;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Elive-демонстрации облачных платформ и сервисов;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eнетворкинг с разработчиками и идеологами продуктов Cloud.ru.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003EКлючевые темы GoCloud 2024:\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003Eоблако и бизнес: кейсы российских компаний вместе с Cloud.ru;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eopen source: последние разработки;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003ESDS, SDN и Serverless;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eобзор новой облачной платформы Cloud.ru.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003EКому будет полезно: техническим специалистам, лидерам команд разработки и администрирования, руководителям технологических направлений и R&amp;D, экспертам и лидерам мнений в IT-индустрии.\u003C\u002Fp\u003E\u003Cp\u003EМероприятие пройдёт в Цифровом деловом пространстве по адресу: ул. Покровка, 47, Москва.\u003C\u002Fp\u003E\u003Cp\u003E\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F9e2\u002F1fc\u002Ff5c\u002F9e21fcf5cb7e9bae5b0f7cb2fafd6a99.png","eventUrl":"https:\u002F\u002Fu.habr.com\u002Fcldr_gocloudcon","startDay":"2024-03-21","startTime":"09:00","finishDay":"2024-03-21","finishTime":"18:00","isOnline":true,"geo":["Москва"]},{"id":"events_187","titleHtml":"Московский туристический хакатон","descriptionHtml":"\u003Cp\u003EПродолжается приём заявок на Московский туристический хакатон — соревнование по цифровизации индустрии туризма и гостеприимства. Он пройдёт в два этапа: отборочный онлайн-этап и очный финал в Москве.\u003C\u002Fp\u003E\u003Cp\u003EУчастникам предстоит решить одну задачу из пяти треков на стыке TravelTech и смежных сфер на выбор:\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EBookingTech;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EFinTech;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003ERoadTech;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EServiceTech;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EE-Com.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003EЗадачи подготовили сервис планирования путешествий RUSSPASS и представители Tutu, Mafin и других компаний, а также Департамент информационных технологий города Москвы.&nbsp;\u003C\u002Fp\u003E\u003Cp\u003EДаты проведения:\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003Eдо 11 марта — регистрация участников;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E23-24 марта — отборочный онлайн-этап хакатона;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E6-7 апреля — офлайн финал в Москве;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E7 апреля — объявление победителей.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003EОбщий призовой фонд хакатона — 7 500 000 рублей.\u003C\u002Fp\u003E\u003Cp\u003EПринять участие могут IT-специалисты, продуктологи, разработчики, дизайнеры, аналитики, креаторы и все, кто разрабатывает прорывные технологические и продуктовые решения.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fffd\u002F8b7\u002F394\u002Fffd8b73941c1f2eb35931067b11406ce.jpg","eventUrl":"https:\u002F\u002Fu.habr.com\u002Fcldr_msc_trvl","startDay":"2024-03-23","finishDay":"2024-04-07","isOnline":true,"geo":["Москва"]},{"id":"events_199","titleHtml":"Онлайн-презентация «GitVerse: открой вселенную кода»","descriptionHtml":"\u003Cp\u003EGitVerse — это открытая платформа от Сбера с AI-помощником для совместной разработки и хостинга кода.\u003C\u002Fp\u003E\u003Cp\u003E29 марта в 10:00 мск на онлайн-презентации «GitVerse: открой вселенную кода» команда продукта познакомит всех с новой функциональностью платформы, представит дорожную карту развития и анонсирует инструменты для повышения продуктивности разработчиков.\u003C\u002Fp\u003E\u003Cp\u003E\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fa37\u002Fb1f\u002F04a\u002Fa37b1f04a5feb49b221e0b1f4bf35c60.jpg","eventUrl":"https:\u002F\u002Fu.habr.com\u002Fcldr_git","startDay":"2024-03-29","startTime":"10:00","finishDay":"2024-03-29","finishTime":"13:00","isOnline":true,"geo":[]},{"id":"events_178","titleHtml":"Firebird Conf: конференция для разработчиков и администраторов СУБД Firebird","descriptionHtml":"\u003Cp\u003E6 июня приглашаем разработчиков и администраторов СУБД Firebird на конференцию «Firebird Conf 2024».&nbsp;\u003C\u002Fp\u003E\u003Cp\u003EЛокация: Radisson Blu Olympiyskiy Hotel Moscow.\u003C\u002Fp\u003E\u003Cp\u003EВас ждёт полное погружение в техническую часть, теория и практика для IT-сообщества.\u003C\u002Fp\u003E\u003Cp\u003EВ этом году конференция будет посвящена:&nbsp;\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003Eновым возможностям Firebird 5;&nbsp;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eоптимизации производительности больших БД;&nbsp;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eполезным особенностям Firebird для прикладных разработчиков.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003EFirebird Conf 2024 — отличная возможность приятно провести время и неформально пообщаться с истинными единомышленниками. Знакомимся и обсуждаем интересные темы, связанные с разработкой и поддержкой баз данных.\u003C\u002Fp\u003E\u003Cp\u003EОрганизатор конференции РЕД СОФТ — российский разработчик IT-решений и услуг. Осуществляет комплексные проекты в области хранения и управления данными на основе собственного технологического стека.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fd78\u002F8ad\u002F5cb\u002Fd788ad5cb236e7eebb4832ccc5310645.png","eventUrl":"https:\u002F\u002Fu.habr.com\u002Fcldr_firebird","startDay":"2024-06-06","startTime":"09:00","finishDay":"2024-06-06","finishTime":"20:00","isOnline":false,"geo":["Москва"]}]},"wysiwyg":{"WYSIWYGRulesRefs":null}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script>
<script src="https://assets.habr.com/habr-web/js/chunk-vendors.02fc1736.js" defer></script><script src="https://assets.habr.com/habr-web/js/7298.c8f1d73c.js" defer></script><script src="https://assets.habr.com/habr-web/js/app.6cc13d0e.js" defer></script>



    <script async src="https://www.googletagmanager.com/gtag/js?id=G-S28W1WC23F"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(24049213, "init", {
      defer:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:false,
    });
  </script>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript>
  
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
<script src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true"></script>
</body>
</html>
